<?xml version="1.0" encoding="UTF-8"?>
<robot generator="Robot 3.2.2 (Python 3.7.3 on linux)" generated="20200917 15:20:49.755" rpa="false">
<suite id="s1" name="Ldapman" source="/home/ted/my-github/aut0test/autotest/robot/ldapman">
<suite id="s1-s1" name="Users" source="/home/ted/my-github/aut0test/autotest/robot/ldapman/users.robot">
<kw name="Create Oauth2 Session" library="common" type="setup">
<arguments>
<arg>${USERS_SESSION}</arg>
<arg>${USERNAME}</arg>
<arg>${PASSWORD}</arg>
</arguments>
<kw name="Get Oauth2 Token" library="common">
<arguments>
<arg>${username}</arg>
<arg>${password}</arg>
</arguments>
<assign>
<var>${token}</var>
</assign>
<kw name="Create Dictionary" library="BuiltIn">
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<arguments>
<arg>Content-Type=application/x-www-form-urlencoded</arg>
</arguments>
<assign>
<var>${headers}</var>
</assign>
<msg timestamp="20200917 15:20:49.827" level="INFO">${headers} = {'Content-Type': 'application/x-www-form-urlencoded'}</msg>
<status status="PASS" starttime="20200917 15:20:49.827" endtime="20200917 15:20:49.827"></status>
</kw>
<kw name="Create Dictionary" library="BuiltIn">
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<arguments>
<arg>username=${username}</arg>
<arg>password=${password}</arg>
</arguments>
<assign>
<var>${form_data}</var>
</assign>
<msg timestamp="20200917 15:20:49.827" level="INFO">${form_data} = {'username': 'zhangpeng', 'password': 'zhangpeng'}</msg>
<status status="PASS" starttime="20200917 15:20:49.827" endtime="20200917 15:20:49.827"></status>
</kw>
<kw name="Create Session" library="RequestsLibrary">
<doc>Create Session: create a HTTP session to a server</doc>
<arguments>
<arg>token_session</arg>
<arg>${API_BACKEND}</arg>
</arguments>
<msg timestamp="20200917 15:20:49.828" level="INFO">Creating Session using : alias=token_session, url=http://172.16.66.6:8000, headers={},                     cookies={}, auth=None, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<status status="PASS" starttime="20200917 15:20:49.828" endtime="20200917 15:20:49.828"></status>
</kw>
<kw name="Post Request" library="RequestsLibrary">
<doc>Send a POST request on the session object found using the
given `alias`</doc>
<arguments>
<arg>token_session</arg>
<arg>${TOKEN_API}</arg>
<arg>data=${form_data}</arg>
<arg>headers=${headers}</arg>
</arguments>
<assign>
<var>${resp}</var>
</assign>
<msg timestamp="20200917 15:20:49.976" level="INFO">POST Request : url=http://172.16.66.6:8000/api/token 
 path_url=/api/token 
 headers={'User-Agent': 'python-requests/2.24.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Type': 'application/x-www-form-urlencoded', 'Content-Length': '37'} 
 body=username=zhangpeng&amp;password=zhangpeng 
 </msg>
<msg timestamp="20200917 15:20:49.976" level="INFO">POST Response : url=http://172.16.66.6:8000/api/token 
 status=200, reason=OK 
 body={"access_token":"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ6aGFuZ3BlbmciLCJleHAiOjE2MDAzMzA4NDl9.LaxiF1d7vF6rO-czo1XRXWPqbCWziIDmvS7oMwD_Okc","token_type":"bearer","admin":true} 
 </msg>
<msg timestamp="20200917 15:20:49.977" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20200917 15:20:49.828" endtime="20200917 15:20:49.977"></status>
</kw>
<kw name="Evaluate" library="BuiltIn">
<doc>Evaluates the given expression in Python and returns the result.</doc>
<arguments>
<arg>json.loads("""${resp.text}""")</arg>
<arg>json</arg>
</arguments>
<assign>
<var>&amp;{data}</var>
</assign>
<msg timestamp="20200917 15:20:49.978" level="INFO">&amp;{data} = { access_token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ6aGFuZ3BlbmciLCJleHAiOjE2MDAzMzA4NDl9.LaxiF1d7vF6rO-czo1XRXWPqbCWziIDmvS7oMwD_Okc | token_type=bearer | admin=True }</msg>
<status status="PASS" starttime="20200917 15:20:49.977" endtime="20200917 15:20:49.979"></status>
</kw>
<msg timestamp="20200917 15:20:49.979" level="INFO">${token} = Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ6aGFuZ3BlbmciLCJleHAiOjE2MDAzMzA4NDl9.LaxiF1d7vF6rO-czo1XRXWPqbCWziIDmvS7oMwD_Okc</msg>
<status status="PASS" starttime="20200917 15:20:49.826" endtime="20200917 15:20:49.979"></status>
</kw>
<kw name="Create Dictionary" library="BuiltIn">
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<arguments>
<arg>Authorization=${token}</arg>
</arguments>
<assign>
<var>${headers}</var>
</assign>
<msg timestamp="20200917 15:20:49.981" level="INFO">${headers} = {'Authorization': 'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ6aGFuZ3BlbmciLCJleHAiOjE2MDAzMzA4NDl9.LaxiF1d7vF6rO-czo1XRXWPqbCWziIDmvS7oMwD_Okc'}</msg>
<status status="PASS" starttime="20200917 15:20:49.980" endtime="20200917 15:20:49.981"></status>
</kw>
<kw name="Create Session" library="RequestsLibrary">
<doc>Create Session: create a HTTP session to a server</doc>
<arguments>
<arg>${session_name}</arg>
<arg>${API_BACKEND}</arg>
<arg>headers=${headers}</arg>
</arguments>
<msg timestamp="20200917 15:20:49.982" level="INFO">Creating Session using : alias=current_session, url=http://172.16.66.6:8000, headers={'Authorization': 'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ6aGFuZ3BlbmciLCJleHAiOjE2MDAzMzA4NDl9.LaxiF1d7vF6rO-czo1XRXWPqbCWziIDmvS7oMwD_Okc'},                     cookies={}, auth=None, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<status status="PASS" starttime="20200917 15:20:49.981" endtime="20200917 15:20:49.982"></status>
</kw>
<status status="PASS" starttime="20200917 15:20:49.826" endtime="20200917 15:20:49.983"></status>
</kw>
<test id="s1-s1-t1" name="Test GET /api/users/me">
<kw name="Get Request" library="RequestsLibrary">
<doc>Send a GET request on the session object found using the
given `alias`</doc>
<arguments>
<arg>${USERS_SESSION}</arg>
<arg>/api/users/me</arg>
</arguments>
<assign>
<var>${resp}</var>
</assign>
<msg timestamp="20200917 15:20:50.149" level="INFO">GET Request : url=http://172.16.66.6:8000/api/users/me 
 path_url=/api/users/me 
 headers={'User-Agent': 'python-requests/2.24.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Authorization': 'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ6aGFuZ3BlbmciLCJleHAiOjE2MDAzMzA4NDl9.LaxiF1d7vF6rO-czo1XRXWPqbCWziIDmvS7oMwD_Okc'} 
 body=None 
 </msg>
<msg timestamp="20200917 15:20:50.155" level="INFO">GET Response : url=http://172.16.66.6:8000/api/users/me 
 status=200, reason=OK 
 body={"objectClass":["inetOrgPerson","shadowAccount","amavisAccount","mailUser","posixAccount"],"amavisLocal":true,"enabledService":["mail","deliver","lda","lmtp","smtp","smtpsecured","pop3","pop3secured","pop3tls","imap","imapsecured","imaptls","managesieve","managesievesecured","sogo","sieve","sievesecured","forward","senderbcc","recipientbcc","internal","lib-storage","indexer-worker","doveadm","dsync","shadowaddress","displayedInGlobalAddressBook","domainadmin"],"homeDirectory":"/var/vmail/vmail1/cetcxl.com/zhangpeng/","mail":"zhangpeng@cetcxl.com","mailboxFormat":"maildir","mailMessageStore":"vmail1/cetcxl.com/zhangpeng/","storageBaseDirectory":"/var/vmail","uid":"zhangpeng","shadowAddress":"zhangp@cetcxl.com","domainGlobalAdmin":"yes","preferredLanguage":"zh_CN","accountStatus":"active","mailQuota":5368709120,"shadowMax":-1,"loginShell":"/bin/bash","shadowLastChange":18221,"uidNumber":6000,"gidNumber":60,"cn":"张鹏","sn":"张","givenName":"鹏","displayName":"张鹏","dn":"mail=zhangpeng@cetcxl.com,ou=Users,domainName=cetcxl.com,o=domains,dc=cetcxl,dc=com","memberof":[{"group":"admin","pgroup":"jenkins"},{"group":"user","pgroup":"jenkins"},{"group":"user","pgroup":"qa_jenkins"},{"group":"admin","pgroup":"qa_jenkins"},{"group":"jira-managers","pgroup":"jira"},{"group":"运维","pgroup":"xl"},{"group":"全员","pgroup":"xl"},{"group":"项目实施部","pgroup":"xl"}]} 
 </msg>
<msg timestamp="20200917 15:20:50.155" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20200917 15:20:49.984" endtime="20200917 15:20:50.155"></status>
</kw>
<kw name="Evaluate" library="BuiltIn">
<doc>Evaluates the given expression in Python and returns the result.</doc>
<arguments>
<arg>json.loads("""${resp.text}""")</arg>
<arg>json</arg>
</arguments>
<assign>
<var>&amp;{data}</var>
</assign>
<msg timestamp="20200917 15:20:50.162" level="INFO">&amp;{data} = { objectClass=['inetOrgPerson', 'shadowAccount', 'amavisAccount', 'mailUser', 'posixAccount'] | amavisLocal=True | enabledService=['mail', 'deliver', 'lda', 'lmtp', 'smtp', 'smtpsecured', 'pop3', 'pop...</msg>
<status status="PASS" starttime="20200917 15:20:50.155" endtime="20200917 15:20:50.162"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${data.uid}</arg>
</arguments>
<msg timestamp="20200917 15:20:50.163" level="INFO">zhangpeng</msg>
<status status="PASS" starttime="20200917 15:20:50.163" endtime="20200917 15:20:50.163"></status>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<doc>Fails if the given objects are unequal.</doc>
<arguments>
<arg>${data.uid}</arg>
<arg>${USERNAME}</arg>
</arguments>
<status status="PASS" starttime="20200917 15:20:50.163" endtime="20200917 15:20:50.163"></status>
</kw>
<status status="PASS" starttime="20200917 15:20:49.983" endtime="20200917 15:20:50.164" critical="yes"></status>
</test>
<test id="s1-s1-t2" name="Test GET /api/users">
<kw name="Get Request" library="RequestsLibrary">
<doc>Send a GET request on the session object found using the
given `alias`</doc>
<arguments>
<arg>${USERS_SESSION}</arg>
<arg>/api/users</arg>
</arguments>
<assign>
<var>${resp}</var>
</assign>
<msg timestamp="20200917 15:20:50.435" level="INFO">GET Request : url=http://172.16.66.6:8000/api/users (redirected) 
 path_url=/api/users 
 headers={'User-Agent': 'python-requests/2.24.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Authorization': 'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ6aGFuZ3BlbmciLCJleHAiOjE2MDAzMzA4NDl9.LaxiF1d7vF6rO-czo1XRXWPqbCWziIDmvS7oMwD_Okc'} 
 body=None 
 </msg>
<msg timestamp="20200917 15:20:50.704" level="INFO">GET Response : url=http://172.16.66.6:8000/api/users/ 
 status=200, reason=OK 
 body=[{"objectClass":["inetOrgPerson","mailUser","shadowAccount","amavisAccount","posixAccount"],"mail":"zhouzhaocai@cetcxl.com","uid":"zhouzhaocai","storageBaseDirectory":"/var/vmail","mailMessageStore":"vmail1/cetcxl.com/zhouzhaocai/","homeDirectory":"/var/vmail/vmail1/cetcxl.com/zhouzhaocai/","accountStatus":"active","enabledService":["mail","deliver","lda","lmtp","smtp","smtpsecured","pop3","pop3secured","pop3tls","imap","imapsecured","imaptls","managesieve","managesievesecured","sogo","sieve","sievesecured","forward","senderbcc","recipientbcc","internal","lib-storage","indexer-worker","doveadm","dsync","shadowaddress","displayedInGlobalAddressBook"],"amavisLocal":true,"mailQuota":5368709120,"mailboxFormat":"maildir","cn":"周昭财","displayName":"周昭财","sn":"周","givenName":"昭财","shadowLastChange":1574331005,"gidNumber":60,"shadowMax":-1,"loginShell":"/bin/bash","uidNumber":6003,"dn":"mail=zhouzhaocai@cetcxl.com,ou=Users,domainName=cetcxl.com,o=domains,dc=cetcxl,dc=com"},{"objectClass":["inetOrgPerson","mailUser","shadowAccount","amavisAccount","posixAccount"],"mail":"zengqinghai@cetcxl.com","storageBaseDirectory":"/var/vmail","mailMessageStore":"vmail1/cetcxl.com/zengqinghai/","homeDirectory":"/var/vmail/vmail1/cetcxl.com/zengqinghai/","accountStatus":"active","enabledService":["mail","deliver","lda","lmtp","smtp","smtpsecured","pop3","pop3secured","pop3tls","imap","imapsecured","imaptls","managesieve","managesievesecured","sogo","sieve","sievesecured","forward","senderbcc","recipientbcc","internal","lib-storage","indexer-worker","doveadm","dsync","shadowaddress","displayedInGlobalAddressBook"],"shadowLastChange":0,"amavisLocal":true,"mailboxFormat":"maildir","cn":"曾青海","uidNumber":19620,"gidNumber":19620,"displayName":"曾青海","mailQuota":5368709120,"uid":"zengqinghai","givenName":"青海","sn":"曾","dn":"mail=zengqinghai@cetcxl.com,ou=Users,domainName=cetcxl.com,o=domains,dc=cetcxl,dc=com"},{"objectClass":["inetOrgPerson","mailUser","shadowAccount","amavisAccount","posixAccount"],"mail":"yangjiaxing@cetcxl.com","uid":"yangjiaxing","storageBaseDirectory":"/var/vmail","mailMessageStore":"vmail1/cetcxl.com/yangjiaxing/","homeDirectory":"/var/vmail/vmail1/cetcxl.com/yangjiaxing/","enabledService":["mail","deliver","lda","lmtp","smtp","smtpsecured","pop3","pop3secured","pop3tls","imap","imapsecured","imaptls","managesieve","managesievesecured","sogo","sieve","sievesecured","forward","senderbcc","recipientbcc","internal","lib-storage","indexer-worker","doveadm","dsync","shadowaddress","displayedInGlobalAddressBook"],"shadowLastChange":0,"amavisLocal":true,"mailboxFormat":"maildir","cn":"杨家兴","accountStatus":"active","uidNumber":5041,"gidNumber":1,"displayName":"杨家兴","preferredLanguage":"zh_CN","mailQuota":5368709120,"givenName":"家兴","sn":"杨","dn":"mail=yangjiaxing@cetcxl.com,ou=Users,domainName=cetcxl.com,o=domains,dc=cetcxl,dc=com"},{"objectClass":["inetOrgPerson","mailUser","shadowAccount","amavisAccount","posixAccount"],"mail":"yangchunxia@cetcxl.com","uid":"yangchunxia","storageBaseDirectory":"/var/vmail","mailMessageStore":"vmail1/cetcxl.com/yangchunxia/","homeDirectory":"/var/vmail/vmail1/cetcxl.com/yangchunxia/","enabledService":["mail","deliver","lda","lmtp","smtp","smtpsecured","pop3","pop3secured","pop3tls","imap","imapsecured","imaptls","managesieve","managesievesecured","sogo","sieve","sievesecured","forward","senderbcc","recipientbcc","internal","lib-storage","indexer-worker","doveadm","dsync","shadowaddress","displayedInGlobalAddressBook"],"shadowLastChange":0,"amavisLocal":true,"mailboxFormat":"maildir","cn":"杨春霞","preferredLanguage":"en_US","mailQuota":5368709120,"accountStatus":"active","uidNumber":201909161,"gidNumber":1,"displayName":"杨春霞","givenName":"春霞","sn":"杨","dn":"mail=yangchunxia@cetcxl.com,ou=Users,domainName=cetcxl.com,o=domains,dc=cetcxl,dc=com"},{"objectClass":["inetOrgPerson","mailUser","shadowAccount","amavisAccount","posixAccount"],"mail":"wangfangrui@cetcxl.com","uid":"wangfangrui","storageBaseDirectory":"/var/vmail","mailMessageStore":"vmail1/cetcxl.com/wangfangrui/","homeDirectory":"/var/vmail/vmail1/cetcxl.com/wangfangrui/","enabledService":["mail","deliver","lda","lmtp","smtp","smtpsecured","pop3","pop3secured","pop3tls","imap","imapsecured","imaptls","managesieve","managesievesecured","sogo","sieve","sievesecured","forward","senderbcc","recipientbcc","internal","lib-storage","indexer-worker","doveadm","dsync","shadowaddress","displayedInGlobalAddressBook"],"shadowLastChange":0,"amavisLocal":true,"mailboxFormat":"maildir","cn":"王方锐","accountStatus":"active","preferredLanguage":"zh_CN","displayName":"王方锐","uidNumber":201905051,"gidNumber":1,"mailQuota":5368709120,"givenName":"方锐","sn":"王","dn":"mail=wangfangrui@cetcxl.com,ou=Users,domainName=cetcxl.com,o=domains,dc=cetcxl,dc=com"},{"objectClass":["inetOrgPerson","shadowAccount","amavisAccount","mailUser","posixAccount"],"accountStatus":"active","amavisLocal":true,"cn":"刘尚麟","displayName":"刘尚麟","enabledService":["mail","deliver","lda","lmtp","smtp","smtpsecured","pop3","pop3secured","pop3tls","imap","imapsecured","imaptls","managesieve","managesievesecured","sogo","sieve","sievesecured","forward","senderbcc","recipientbcc","internal","lib-storage","indexer-worker","doveadm","dsync","shadowaddress","displayedInGlobalAddressBook"],"gidNumber":1,"homeDirectory":"/var/vmail/vmail1/cetcxl.com/liushanglin/","mail":"liushanglin@cetcxl.com","mailboxFormat":"maildir","mailMessageStore":"vmail1/cetcxl.com/liushanglin/","preferredLanguage":"zh_CN","shadowLastChange":0,"storageBaseDirectory":"/var/vmail","uid":"liushanglin","uidNumber":5028,"shadowAddress":"liusl@cetcxl.com","mailQuota":5368709120,"givenName":"尚麟","sn":"刘","dn":"mail=liushanglin@cetcxl.com,ou=Users,domainName=cetcxl.com,o=domains,dc=cetcxl,dc=com"},{"objectClass":["inetOrgPerson","shadowAccount","amavisAccount","mailUser","posixAccount"],"accountStatus":"active","amavisLocal":true,"cn":"陈媛君","displayName":"陈媛君","enabledService":["mail","deliver","lda","lmtp","smtp","smtpsecured","pop3","pop3secured","pop3tls","imap","imapsecured","imaptls","managesieve","managesievesecured","sogo","sieve","sievesecured","forward","senderbcc","recipientbcc","internal","lib-storage","indexer-worker","doveadm","dsync","shadowaddress","displayedInGlobalAddressBook"],"gidNumber":1,"homeDirectory":"/var/vmail/vmail1/cetcxl.com/chenyuanjun/","mail":"chenyuanjun@cetcxl.com","mailboxFormat":"maildir","mailMessageStore":"vmail1/cetcxl.com/chenyuanjun/","preferredLanguage":"zh_CN","shadowLastChange":0,"storageBaseDirectory":"/var/vmail","uid":"chenyuanjun","uidNumber":5021,"mailQuota":5368709120,"givenName":"媛君","sn":"陈","dn":"mail=chenyuanjun@cetcxl.com,ou=Users,domainName=cetcxl.com,o=domains,dc=cetcxl,dc=com"},{"objectClass":["inetOrgPerson","shadowAccount","amavisAccount","mailUser","posixAccount"],"amavisLocal":true,"displayName":"安红章","enabledService":["mail","deliver","lda","lmtp","smtp","smtpsecured","pop3","pop3secured","pop3tls","imap","imapsecured","imaptls","managesieve","managesievesecured","sogo","sieve","sievesecured","forward","senderbcc","recipientbcc","internal","lib-storage","indexer-worker","doveadm","dsync","shadowaddress","displayedInGlobalAddressBook"],"gidNumber":1,"homeDirectory":"/var/vmail/vmail1/cetcxl.com/anhongzhang/","mail":"anhongzhang@cetcxl.com","mailboxFormat":"maildir","mailMessageStore":"vmail1/cetcxl.com/anhongzhang/","shadowLastChange":0,"storageBaseDirectory":"/var/vmail","uid":"anhongzhang","uidNumber":5023,"shadowAddress":"anhz@cetcxl.com","cn":"安红章","preferredLanguage":"zh_CN","accountStatus":"active","mailQuota":5368709120,"givenName":"红章","sn":"安","dn":"mail=anhongzhang@cetcxl.com,ou=Users,domainName=cetcxl.com,o=domains,dc=cetcxl,dc=com"},{"objectClass":["inetOrgPerson","shadowAccount","amavisAccount","mailUser","posixAccount"],"accountStatus":"active","amavisLocal":true,"cn":"颜亚光","displayName":"颜亚光","enabledService":["mail","deliver","lda","lmtp","smtp","smtpsecured","pop3","pop3secured","pop3tls","imap","imapsecured","imaptls","managesieve","managesievesecured","sogo","sieve","sievesecured","forward","senderbcc","recipientbcc","internal","lib-storage","indexer-worker","doveadm","dsync","shadowaddress","displayedInGlobalAddressBook"],"gidNumber":1,"homeDirectory":"/var/vmail/vmail1/cetcxl.com/yanyaguang/","mail":"yanyaguang@cetcxl.com","mailboxFormat":"maildir","mailMessageStore":"vmail1/cetcxl.com/yanyaguang/","preferredLanguage":"zh_CN","shadowLastChange":0,"storageBaseDirectory":"/var/vmail","uid":"yanyaguang","uidNumber":5005,"mailQuota":5368709120,"givenName":"亚光","sn":"颜","dn":"mail=yanyaguang@cetcxl.com,ou=Users,domainName=cetcxl.com,o=domains,dc=cetcxl,dc=com"},{"objectClass":["inetOrgPerson","shadowAccount","amavisAccount","mailUser","posixAccount"],"amavisLocal":true,"displayName":"杨艳梅","enabledService":["mail","deliver","lda","lmtp","smtp","smtpsecured","pop3","pop3secured","pop3tls","imap","imapsecured","imaptls","managesieve","managesievesecured","sogo","sieve","sievesecured","forward","senderbcc","recipientbcc","internal","lib-storage","indexer-worker","doveadm","dsync","shadowaddress","displayedInGlobalAddressBook"],"gidNumber":1,"homeDirectory":"/var/vmail/vmail1/cetcxl.com/yangyanmei/","mail":"yangyanmei@cetcxl.com","mailboxFormat":"maildir","mailMessageStore":"vmail1/cetcxl.com/yangyanmei/","shadowLastChange":0,"storageBaseDirectory":"/var/vmail","uid":"yangyanmei","uidNumber":5017,"shadowAddress":"yangym@cetcxl.com","cn":"杨艳梅","preferredLanguage":"zh_CN","accountStatus":"active","mailQuota":5368709120,"givenName":"艳梅","sn":"杨","dn":"mail=yangyanmei@cetcxl.com,ou=Users,domainName=cetcxl.com,o=domains,dc=cetcxl,dc=com"},{"objectClass":["inetOrgPerson","mailUser","shadowAccount","amavisAccount","posixAccount"],"mail":"wangchunhu@cetcxl.com","storageBaseDirectory":"/var/vmail","mailMessageStore":"vmail1/cetcxl.com/wangchunhu/","homeDirectory":"/var/vmail/vmail1/cetcxl.com/wangchunhu/","accountStatus":"active","enabledService":["mail","deliver","lda","... (set the log level to DEBUG or TRACE to see the full content) 
 </msg>
<msg timestamp="20200917 15:20:50.705" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20200917 15:20:50.164" endtime="20200917 15:20:50.705"></status>
</kw>
<kw name="Evaluate" library="BuiltIn">
<doc>Evaluates the given expression in Python and returns the result.</doc>
<arguments>
<arg>json.loads("""${resp.text}""")</arg>
<arg>json</arg>
</arguments>
<assign>
<var>@{data}</var>
</assign>
<msg timestamp="20200917 15:20:50.984" level="INFO">@{data} = [ {'objectClass': ['inetOrgPerson', 'mailUser', 'shadowAccount', 'amavisAccount', 'posixAccount'], 'mail': 'zhouzhaocai@cetcxl.com', 'uid': 'zhouzhaocai', 'storageBaseDirectory': '/var/vmail', 'mailMe...</msg>
<status status="PASS" starttime="20200917 15:20:50.705" endtime="20200917 15:20:50.984"></status>
</kw>
<kw name="Get Length" library="BuiltIn">
<doc>Returns and logs the length of the given item as an integer.</doc>
<arguments>
<arg>${data}</arg>
</arguments>
<assign>
<var>${current_users}</var>
</assign>
<msg timestamp="20200917 15:20:50.984" level="INFO">Length is 81</msg>
<msg timestamp="20200917 15:20:50.984" level="INFO">${current_users} = 81</msg>
<status status="PASS" starttime="20200917 15:20:50.984" endtime="20200917 15:20:50.984"></status>
</kw>
<kw name="Set Global Variable" library="BuiltIn">
<doc>Makes a variable available globally in all tests and suites.</doc>
<arguments>
<arg>${USERS_NO}</arg>
<arg>${current_users}</arg>
</arguments>
<msg timestamp="20200917 15:20:50.986" level="INFO">${USERS_NO} = 81</msg>
<status status="PASS" starttime="20200917 15:20:50.985" endtime="20200917 15:20:50.986"></status>
</kw>
<status status="PASS" starttime="20200917 15:20:50.164" endtime="20200917 15:20:50.986" critical="yes"></status>
</test>
<test id="s1-s1-t3" name="Test GET /api/users/memberof">
<kw name="Get Request" library="RequestsLibrary">
<doc>Send a GET request on the session object found using the
given `alias`</doc>
<arguments>
<arg>${USERS_SESSION}</arg>
<arg>/api/users/memberof</arg>
</arguments>
<assign>
<var>${resp}</var>
</assign>
<msg timestamp="20200917 15:20:51.102" level="INFO">GET Request : url=http://172.16.66.6:8000/api/users/memberof 
 path_url=/api/users/memberof 
 headers={'User-Agent': 'python-requests/2.24.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Authorization': 'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ6aGFuZ3BlbmciLCJleHAiOjE2MDAzMzA4NDl9.LaxiF1d7vF6rO-czo1XRXWPqbCWziIDmvS7oMwD_Okc'} 
 body=None 
 </msg>
<msg timestamp="20200917 15:20:51.106" level="INFO">GET Response : url=http://172.16.66.6:8000/api/users/memberof 
 status=200, reason=OK 
 body=[{"group":"admin","pgroup":"jenkins"},{"group":"user","pgroup":"jenkins"},{"group":"user","pgroup":"qa_jenkins"},{"group":"admin","pgroup":"qa_jenkins"},{"group":"jira-managers","pgroup":"jira"},{"group":"运维","pgroup":"xl"},{"group":"全员","pgroup":"xl"},{"group":"项目实施部","pgroup":"xl"}] 
 </msg>
<msg timestamp="20200917 15:20:51.107" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20200917 15:20:50.986" endtime="20200917 15:20:51.107"></status>
</kw>
<kw name="Evaluate" library="BuiltIn">
<doc>Evaluates the given expression in Python and returns the result.</doc>
<arguments>
<arg>json.loads("""${resp.text}""")</arg>
<arg>json</arg>
</arguments>
<assign>
<var>@{data}</var>
</assign>
<msg timestamp="20200917 15:20:51.111" level="INFO">@{data} = [ {'group': 'admin', 'pgroup': 'jenkins'} | {'group': 'user', 'pgroup': 'jenkins'} | {'group': 'user', 'pgroup': 'qa_jenkins'} | {'group': 'admin', 'pgroup': 'qa_jenkins'} | {'group': 'jira-managers',...</msg>
<status status="PASS" starttime="20200917 15:20:51.107" endtime="20200917 15:20:51.111"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${data}</arg>
</arguments>
<msg timestamp="20200917 15:20:51.112" level="INFO">[{'group': 'admin', 'pgroup': 'jenkins'}, {'group': 'user', 'pgroup': 'jenkins'}, {'group': 'user', 'pgroup': 'qa_jenkins'}, {'group': 'admin', 'pgroup': 'qa_jenkins'}, {'group': 'jira-managers', 'pgroup': 'jira'}, {'group': '运维', 'pgroup': 'xl'}, {'group': '全员', 'pgroup': 'xl'}, {'group': '项目实施部', 'pgroup': 'xl'}]</msg>
<status status="PASS" starttime="20200917 15:20:51.111" endtime="20200917 15:20:51.112"></status>
</kw>
<kw name="Should Not Be Empty" library="BuiltIn">
<doc>Verifies that the given item is not empty.</doc>
<arguments>
<arg>${data}</arg>
</arguments>
<msg timestamp="20200917 15:20:51.112" level="INFO">Length is 8</msg>
<status status="PASS" starttime="20200917 15:20:51.112" endtime="20200917 15:20:51.113"></status>
</kw>
<status status="PASS" starttime="20200917 15:20:50.986" endtime="20200917 15:20:51.113" critical="yes"></status>
</test>
<test id="s1-s1-t4" name="Test POST /api/users/{userid}">
<kw name="Delete User">
<arguments>
<arg>${TEST_USER}</arg>
</arguments>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${uid}</arg>
</arguments>
<msg timestamp="20200917 15:20:51.115" level="INFO">zhangsan</msg>
<status status="PASS" starttime="20200917 15:20:51.115" endtime="20200917 15:20:51.115"></status>
</kw>
<kw name="Delete Request" library="RequestsLibrary">
<doc>Send a DELETE request on the session object found using the
given `alias`</doc>
<arguments>
<arg>${USERS_SESSION}</arg>
<arg>/api/users/${uid}</arg>
</arguments>
<assign>
<var>${resp}</var>
</assign>
<msg timestamp="20200917 15:20:51.311" level="INFO">DELETE Request : url=http://172.16.66.6:8000/api/users/zhangsan 
 path_url=/api/users/zhangsan 
 headers={'User-Agent': 'python-requests/2.24.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Authorization': 'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ6aGFuZ3BlbmciLCJleHAiOjE2MDAzMzA4NDl9.LaxiF1d7vF6rO-czo1XRXWPqbCWziIDmvS7oMwD_Okc', 'Content-Length': '0'} 
 body=None 
 </msg>
<msg timestamp="20200917 15:20:51.311" level="INFO">DELETE Response : url=http://172.16.66.6:8000/api/users/zhangsan 
 status=404, reason=Not Found 
 body={"detail":"Entry not found"} 
 </msg>
<msg timestamp="20200917 15:20:51.311" level="INFO">${resp} = &lt;Response [404]&gt;</msg>
<status status="PASS" starttime="20200917 15:20:51.115" endtime="20200917 15:20:51.311"></status>
</kw>
<status status="PASS" starttime="20200917 15:20:51.114" endtime="20200917 15:20:51.312"></status>
</kw>
<kw name="Create User">
<arguments>
<arg>${TEST_USER}</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Create Dictionary" library="BuiltIn">
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<arguments>
<arg>Content-Type=application/json</arg>
</arguments>
<assign>
<var>&amp;{headers}</var>
</assign>
<msg timestamp="20200917 15:20:51.314" level="INFO">&amp;{headers} = { Content-Type=application/json }</msg>
<status status="PASS" starttime="20200917 15:20:51.313" endtime="20200917 15:20:51.314"></status>
</kw>
<kw name="Create Dictionary" library="BuiltIn">
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<arguments>
<arg>cn=张三</arg>
<arg>sn=张</arg>
<arg>givenName=三</arg>
<arg>admin=False</arg>
<arg>accountType=user</arg>
</arguments>
<assign>
<var>&amp;{user}</var>
</assign>
<msg timestamp="20200917 15:20:51.315" level="INFO">&amp;{user} = { cn=张三 | sn=张 | givenName=三 | admin=False | accountType=user }</msg>
<status status="PASS" starttime="20200917 15:20:51.314" endtime="20200917 15:20:51.315"></status>
</kw>
<kw name="Post Request" library="RequestsLibrary">
<doc>Send a POST request on the session object found using the
given `alias`</doc>
<arguments>
<arg>${USERS_SESSION}</arg>
<arg>/api/users/${uid}</arg>
<arg>data=${user}</arg>
<arg>headers=${headers}</arg>
</arguments>
<assign>
<var>${resp}</var>
</assign>
<msg timestamp="20200917 15:20:51.571" level="INFO">POST Request : url=http://172.16.66.6:8000/api/users/zhangsan 
 path_url=/api/users/zhangsan 
 headers={'User-Agent': 'python-requests/2.24.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Authorization': 'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ6aGFuZ3BlbmciLCJleHAiOjE2MDAzMzA4NDl9.LaxiF1d7vF6rO-czo1XRXWPqbCWziIDmvS7oMwD_Okc', 'Content-Type': 'application/json', 'Content-Length': '102'} 
 body={"cn": "\u5f20\u4e09", "sn": "\u5f20", "givenName": "\u4e09", "admin": "False", "accountType": "user"} 
 </msg>
<msg timestamp="20200917 15:20:51.581" level="INFO">POST Response : url=http://172.16.66.6:8000/api/users/zhangsan 
 status=200, reason=OK 
 body={"objectClass":["inetOrgPerson","shadowAccount","amavisAccount","mailUser","posixAccount"],"enabledService":["mail","deliver","lda","lmtp","smtp","smtpsecured","pop3","pop3secured","pop3tls","imap","imapsecured","imaptls","managesieve","managesievesecured","sogo","sieve","sievesecured","forward","senderbcc","recipientbcc","internal","lib-storage","indexer-worker","doveadm","dsync","shadowaddress","displayedInGlobalAddressBook"],"uid":"zhangsan","cn":"张三","givenName":"三","sn":"张","amavisLocal":true,"homeDirectory":"/var/vmail/vmail1/cetcxl.com/zhangsan/","mail":"zhangsan@cetcxl.com","mailboxFormat":"maildir","mailMessageStore":"vmail1/cetcxl.com/zhangsan/","storageBaseDirectory":"/var/vmail","domainGlobalAdmin":"no","preferredLanguage":"zh_CN","accountStatus":"active","mailQuota":5368709120,"shadowMax":-1,"shadowLastChange":-1,"displayName":"张三","loginShell":"/bin/bash","uidNumber":202003192,"gidNumber":202003192} 
 </msg>
<msg timestamp="20200917 15:20:51.581" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20200917 15:20:51.315" endtime="20200917 15:20:51.581"></status>
</kw>
<msg timestamp="20200917 15:20:51.581" level="INFO">${result} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20200917 15:20:51.312" endtime="20200917 15:20:51.581"></status>
</kw>
<kw name="Status Should Be" library="RequestsLibrary">
<doc>Fails if response status code is different than the expected.</doc>
<arguments>
<arg>200</arg>
<arg>${result}</arg>
</arguments>
<status status="PASS" starttime="20200917 15:20:51.582" endtime="20200917 15:20:51.582"></status>
</kw>
<status status="PASS" starttime="20200917 15:20:51.113" endtime="20200917 15:20:51.582" critical="yes"></status>
</test>
<test id="s1-s1-t5" name="Test GET /api/users/{userid}">
<kw name="Get User">
<arguments>
<arg>${TEST_USER}</arg>
</arguments>
<assign>
<var>&amp;{user}</var>
</assign>
<kw name="Get Request" library="RequestsLibrary">
<doc>Send a GET request on the session object found using the
given `alias`</doc>
<arguments>
<arg>${USERS_SESSION}</arg>
<arg>/api/users/${uid}</arg>
</arguments>
<assign>
<var>${resp}</var>
</assign>
<msg timestamp="20200917 15:20:51.728" level="INFO">GET Request : url=http://172.16.66.6:8000/api/users/zhangsan 
 path_url=/api/users/zhangsan 
 headers={'User-Agent': 'python-requests/2.24.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Authorization': 'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ6aGFuZ3BlbmciLCJleHAiOjE2MDAzMzA4NDl9.LaxiF1d7vF6rO-czo1XRXWPqbCWziIDmvS7oMwD_Okc'} 
 body=None 
 </msg>
<msg timestamp="20200917 15:20:51.741" level="INFO">GET Response : url=http://172.16.66.6:8000/api/users/zhangsan 
 status=200, reason=OK 
 body={"objectClass":["inetOrgPerson","shadowAccount","amavisAccount","mailUser","posixAccount"],"enabledService":["mail","deliver","lda","lmtp","smtp","smtpsecured","pop3","pop3secured","pop3tls","imap","imapsecured","imaptls","managesieve","managesievesecured","sogo","sieve","sievesecured","forward","senderbcc","recipientbcc","internal","lib-storage","indexer-worker","doveadm","dsync","shadowaddress","displayedInGlobalAddressBook"],"uid":"zhangsan","cn":"张三","givenName":"三","sn":"张","amavisLocal":true,"homeDirectory":"/var/vmail/vmail1/cetcxl.com/zhangsan/","mail":"zhangsan@cetcxl.com","mailboxFormat":"maildir","mailMessageStore":"vmail1/cetcxl.com/zhangsan/","storageBaseDirectory":"/var/vmail","domainGlobalAdmin":"no","preferredLanguage":"zh_CN","accountStatus":"active","mailQuota":5368709120,"shadowMax":-1,"shadowLastChange":-1,"displayName":"张三","loginShell":"/bin/bash","uidNumber":202003192,"gidNumber":202003192,"dn":"mail=zhangsan@cetcxl.com,ou=Users,domainName=cetcxl.com,o=domains,dc=cetcxl,dc=com"} 
 </msg>
<msg timestamp="20200917 15:20:51.741" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20200917 15:20:51.583" endtime="20200917 15:20:51.741"></status>
</kw>
<kw name="Evaluate" library="BuiltIn">
<doc>Evaluates the given expression in Python and returns the result.</doc>
<arguments>
<arg>json.loads("""${resp.text}""")</arg>
<arg>json</arg>
</arguments>
<assign>
<var>&amp;{data}</var>
</assign>
<msg timestamp="20200917 15:20:51.748" level="INFO">&amp;{data} = { objectClass=['inetOrgPerson', 'shadowAccount', 'amavisAccount', 'mailUser', 'posixAccount'] | enabledService=['mail', 'deliver', 'lda', 'lmtp', 'smtp', 'smtpsecured', 'pop3', 'pop3secured', 'pop3tls...</msg>
<status status="PASS" starttime="20200917 15:20:51.742" endtime="20200917 15:20:51.748"></status>
</kw>
<msg timestamp="20200917 15:20:51.748" level="INFO">&amp;{user} = { objectClass=['inetOrgPerson', 'shadowAccount', 'amavisAccount', 'mailUser', 'posixAccount'] | enabledService=['mail', 'deliver', 'lda', 'lmtp', 'smtp', 'smtpsecured', 'pop3', 'pop3secured', 'pop3tls...</msg>
<status status="PASS" starttime="20200917 15:20:51.583" endtime="20200917 15:20:51.748"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${user.uid}</arg>
</arguments>
<msg timestamp="20200917 15:20:51.749" level="INFO">zhangsan</msg>
<status status="PASS" starttime="20200917 15:20:51.748" endtime="20200917 15:20:51.749"></status>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<doc>Fails if the given objects are unequal.</doc>
<arguments>
<arg>${user.uid}</arg>
<arg>${TEST_USER}</arg>
</arguments>
<status status="PASS" starttime="20200917 15:20:51.749" endtime="20200917 15:20:51.749"></status>
</kw>
<status status="PASS" starttime="20200917 15:20:51.582" endtime="20200917 15:20:51.749" critical="yes"></status>
</test>
<test id="s1-s1-t6" name="Check Users Number">
<kw name="Get Users No">
<assign>
<var>${current_user_no}</var>
</assign>
<kw name="Get Request" library="RequestsLibrary">
<doc>Send a GET request on the session object found using the
given `alias`</doc>
<arguments>
<arg>${USERS_SESSION}</arg>
<arg>/api/users</arg>
</arguments>
<assign>
<var>${resp}</var>
</assign>
<msg timestamp="20200917 15:20:52.018" level="INFO">GET Request : url=http://172.16.66.6:8000/api/users (redirected) 
 path_url=/api/users 
 headers={'User-Agent': 'python-requests/2.24.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Authorization': 'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ6aGFuZ3BlbmciLCJleHAiOjE2MDAzMzA4NDl9.LaxiF1d7vF6rO-czo1XRXWPqbCWziIDmvS7oMwD_Okc'} 
 body=None 
 </msg>
<msg timestamp="20200917 15:20:52.300" level="INFO">GET Response : url=http://172.16.66.6:8000/api/users/ 
 status=200, reason=OK 
 body=[{"objectClass":["inetOrgPerson","mailUser","shadowAccount","amavisAccount","posixAccount"],"mail":"zhouzhaocai@cetcxl.com","uid":"zhouzhaocai","storageBaseDirectory":"/var/vmail","mailMessageStore":"vmail1/cetcxl.com/zhouzhaocai/","homeDirectory":"/var/vmail/vmail1/cetcxl.com/zhouzhaocai/","accountStatus":"active","enabledService":["mail","deliver","lda","lmtp","smtp","smtpsecured","pop3","pop3secured","pop3tls","imap","imapsecured","imaptls","managesieve","managesievesecured","sogo","sieve","sievesecured","forward","senderbcc","recipientbcc","internal","lib-storage","indexer-worker","doveadm","dsync","shadowaddress","displayedInGlobalAddressBook"],"amavisLocal":true,"mailQuota":5368709120,"mailboxFormat":"maildir","cn":"周昭财","displayName":"周昭财","sn":"周","givenName":"昭财","shadowLastChange":1574331005,"gidNumber":60,"shadowMax":-1,"loginShell":"/bin/bash","uidNumber":6003,"dn":"mail=zhouzhaocai@cetcxl.com,ou=Users,domainName=cetcxl.com,o=domains,dc=cetcxl,dc=com"},{"objectClass":["inetOrgPerson","mailUser","shadowAccount","amavisAccount","posixAccount"],"mail":"zengqinghai@cetcxl.com","storageBaseDirectory":"/var/vmail","mailMessageStore":"vmail1/cetcxl.com/zengqinghai/","homeDirectory":"/var/vmail/vmail1/cetcxl.com/zengqinghai/","accountStatus":"active","enabledService":["mail","deliver","lda","lmtp","smtp","smtpsecured","pop3","pop3secured","pop3tls","imap","imapsecured","imaptls","managesieve","managesievesecured","sogo","sieve","sievesecured","forward","senderbcc","recipientbcc","internal","lib-storage","indexer-worker","doveadm","dsync","shadowaddress","displayedInGlobalAddressBook"],"shadowLastChange":0,"amavisLocal":true,"mailboxFormat":"maildir","cn":"曾青海","uidNumber":19620,"gidNumber":19620,"displayName":"曾青海","mailQuota":5368709120,"uid":"zengqinghai","givenName":"青海","sn":"曾","dn":"mail=zengqinghai@cetcxl.com,ou=Users,domainName=cetcxl.com,o=domains,dc=cetcxl,dc=com"},{"objectClass":["inetOrgPerson","mailUser","shadowAccount","amavisAccount","posixAccount"],"mail":"yangjiaxing@cetcxl.com","uid":"yangjiaxing","storageBaseDirectory":"/var/vmail","mailMessageStore":"vmail1/cetcxl.com/yangjiaxing/","homeDirectory":"/var/vmail/vmail1/cetcxl.com/yangjiaxing/","enabledService":["mail","deliver","lda","lmtp","smtp","smtpsecured","pop3","pop3secured","pop3tls","imap","imapsecured","imaptls","managesieve","managesievesecured","sogo","sieve","sievesecured","forward","senderbcc","recipientbcc","internal","lib-storage","indexer-worker","doveadm","dsync","shadowaddress","displayedInGlobalAddressBook"],"shadowLastChange":0,"amavisLocal":true,"mailboxFormat":"maildir","cn":"杨家兴","accountStatus":"active","uidNumber":5041,"gidNumber":1,"displayName":"杨家兴","preferredLanguage":"zh_CN","mailQuota":5368709120,"givenName":"家兴","sn":"杨","dn":"mail=yangjiaxing@cetcxl.com,ou=Users,domainName=cetcxl.com,o=domains,dc=cetcxl,dc=com"},{"objectClass":["inetOrgPerson","mailUser","shadowAccount","amavisAccount","posixAccount"],"mail":"yangchunxia@cetcxl.com","uid":"yangchunxia","storageBaseDirectory":"/var/vmail","mailMessageStore":"vmail1/cetcxl.com/yangchunxia/","homeDirectory":"/var/vmail/vmail1/cetcxl.com/yangchunxia/","enabledService":["mail","deliver","lda","lmtp","smtp","smtpsecured","pop3","pop3secured","pop3tls","imap","imapsecured","imaptls","managesieve","managesievesecured","sogo","sieve","sievesecured","forward","senderbcc","recipientbcc","internal","lib-storage","indexer-worker","doveadm","dsync","shadowaddress","displayedInGlobalAddressBook"],"shadowLastChange":0,"amavisLocal":true,"mailboxFormat":"maildir","cn":"杨春霞","preferredLanguage":"en_US","mailQuota":5368709120,"accountStatus":"active","uidNumber":201909161,"gidNumber":1,"displayName":"杨春霞","givenName":"春霞","sn":"杨","dn":"mail=yangchunxia@cetcxl.com,ou=Users,domainName=cetcxl.com,o=domains,dc=cetcxl,dc=com"},{"objectClass":["inetOrgPerson","mailUser","shadowAccount","amavisAccount","posixAccount"],"mail":"wangfangrui@cetcxl.com","uid":"wangfangrui","storageBaseDirectory":"/var/vmail","mailMessageStore":"vmail1/cetcxl.com/wangfangrui/","homeDirectory":"/var/vmail/vmail1/cetcxl.com/wangfangrui/","enabledService":["mail","deliver","lda","lmtp","smtp","smtpsecured","pop3","pop3secured","pop3tls","imap","imapsecured","imaptls","managesieve","managesievesecured","sogo","sieve","sievesecured","forward","senderbcc","recipientbcc","internal","lib-storage","indexer-worker","doveadm","dsync","shadowaddress","displayedInGlobalAddressBook"],"shadowLastChange":0,"amavisLocal":true,"mailboxFormat":"maildir","cn":"王方锐","accountStatus":"active","preferredLanguage":"zh_CN","displayName":"王方锐","uidNumber":201905051,"gidNumber":1,"mailQuota":5368709120,"givenName":"方锐","sn":"王","dn":"mail=wangfangrui@cetcxl.com,ou=Users,domainName=cetcxl.com,o=domains,dc=cetcxl,dc=com"},{"objectClass":["inetOrgPerson","shadowAccount","amavisAccount","mailUser","posixAccount"],"accountStatus":"active","amavisLocal":true,"cn":"刘尚麟","displayName":"刘尚麟","enabledService":["mail","deliver","lda","lmtp","smtp","smtpsecured","pop3","pop3secured","pop3tls","imap","imapsecured","imaptls","managesieve","managesievesecured","sogo","sieve","sievesecured","forward","senderbcc","recipientbcc","internal","lib-storage","indexer-worker","doveadm","dsync","shadowaddress","displayedInGlobalAddressBook"],"gidNumber":1,"homeDirectory":"/var/vmail/vmail1/cetcxl.com/liushanglin/","mail":"liushanglin@cetcxl.com","mailboxFormat":"maildir","mailMessageStore":"vmail1/cetcxl.com/liushanglin/","preferredLanguage":"zh_CN","shadowLastChange":0,"storageBaseDirectory":"/var/vmail","uid":"liushanglin","uidNumber":5028,"shadowAddress":"liusl@cetcxl.com","mailQuota":5368709120,"givenName":"尚麟","sn":"刘","dn":"mail=liushanglin@cetcxl.com,ou=Users,domainName=cetcxl.com,o=domains,dc=cetcxl,dc=com"},{"objectClass":["inetOrgPerson","shadowAccount","amavisAccount","mailUser","posixAccount"],"accountStatus":"active","amavisLocal":true,"cn":"陈媛君","displayName":"陈媛君","enabledService":["mail","deliver","lda","lmtp","smtp","smtpsecured","pop3","pop3secured","pop3tls","imap","imapsecured","imaptls","managesieve","managesievesecured","sogo","sieve","sievesecured","forward","senderbcc","recipientbcc","internal","lib-storage","indexer-worker","doveadm","dsync","shadowaddress","displayedInGlobalAddressBook"],"gidNumber":1,"homeDirectory":"/var/vmail/vmail1/cetcxl.com/chenyuanjun/","mail":"chenyuanjun@cetcxl.com","mailboxFormat":"maildir","mailMessageStore":"vmail1/cetcxl.com/chenyuanjun/","preferredLanguage":"zh_CN","shadowLastChange":0,"storageBaseDirectory":"/var/vmail","uid":"chenyuanjun","uidNumber":5021,"mailQuota":5368709120,"givenName":"媛君","sn":"陈","dn":"mail=chenyuanjun@cetcxl.com,ou=Users,domainName=cetcxl.com,o=domains,dc=cetcxl,dc=com"},{"objectClass":["inetOrgPerson","shadowAccount","amavisAccount","mailUser","posixAccount"],"amavisLocal":true,"displayName":"安红章","enabledService":["mail","deliver","lda","lmtp","smtp","smtpsecured","pop3","pop3secured","pop3tls","imap","imapsecured","imaptls","managesieve","managesievesecured","sogo","sieve","sievesecured","forward","senderbcc","recipientbcc","internal","lib-storage","indexer-worker","doveadm","dsync","shadowaddress","displayedInGlobalAddressBook"],"gidNumber":1,"homeDirectory":"/var/vmail/vmail1/cetcxl.com/anhongzhang/","mail":"anhongzhang@cetcxl.com","mailboxFormat":"maildir","mailMessageStore":"vmail1/cetcxl.com/anhongzhang/","shadowLastChange":0,"storageBaseDirectory":"/var/vmail","uid":"anhongzhang","uidNumber":5023,"shadowAddress":"anhz@cetcxl.com","cn":"安红章","preferredLanguage":"zh_CN","accountStatus":"active","mailQuota":5368709120,"givenName":"红章","sn":"安","dn":"mail=anhongzhang@cetcxl.com,ou=Users,domainName=cetcxl.com,o=domains,dc=cetcxl,dc=com"},{"objectClass":["inetOrgPerson","shadowAccount","amavisAccount","mailUser","posixAccount"],"accountStatus":"active","amavisLocal":true,"cn":"颜亚光","displayName":"颜亚光","enabledService":["mail","deliver","lda","lmtp","smtp","smtpsecured","pop3","pop3secured","pop3tls","imap","imapsecured","imaptls","managesieve","managesievesecured","sogo","sieve","sievesecured","forward","senderbcc","recipientbcc","internal","lib-storage","indexer-worker","doveadm","dsync","shadowaddress","displayedInGlobalAddressBook"],"gidNumber":1,"homeDirectory":"/var/vmail/vmail1/cetcxl.com/yanyaguang/","mail":"yanyaguang@cetcxl.com","mailboxFormat":"maildir","mailMessageStore":"vmail1/cetcxl.com/yanyaguang/","preferredLanguage":"zh_CN","shadowLastChange":0,"storageBaseDirectory":"/var/vmail","uid":"yanyaguang","uidNumber":5005,"mailQuota":5368709120,"givenName":"亚光","sn":"颜","dn":"mail=yanyaguang@cetcxl.com,ou=Users,domainName=cetcxl.com,o=domains,dc=cetcxl,dc=com"},{"objectClass":["inetOrgPerson","shadowAccount","amavisAccount","mailUser","posixAccount"],"amavisLocal":true,"displayName":"杨艳梅","enabledService":["mail","deliver","lda","lmtp","smtp","smtpsecured","pop3","pop3secured","pop3tls","imap","imapsecured","imaptls","managesieve","managesievesecured","sogo","sieve","sievesecured","forward","senderbcc","recipientbcc","internal","lib-storage","indexer-worker","doveadm","dsync","shadowaddress","displayedInGlobalAddressBook"],"gidNumber":1,"homeDirectory":"/var/vmail/vmail1/cetcxl.com/yangyanmei/","mail":"yangyanmei@cetcxl.com","mailboxFormat":"maildir","mailMessageStore":"vmail1/cetcxl.com/yangyanmei/","shadowLastChange":0,"storageBaseDirectory":"/var/vmail","uid":"yangyanmei","uidNumber":5017,"shadowAddress":"yangym@cetcxl.com","cn":"杨艳梅","preferredLanguage":"zh_CN","accountStatus":"active","mailQuota":5368709120,"givenName":"艳梅","sn":"杨","dn":"mail=yangyanmei@cetcxl.com,ou=Users,domainName=cetcxl.com,o=domains,dc=cetcxl,dc=com"},{"objectClass":["inetOrgPerson","mailUser","shadowAccount","amavisAccount","posixAccount"],"mail":"wangchunhu@cetcxl.com","storageBaseDirectory":"/var/vmail","mailMessageStore":"vmail1/cetcxl.com/wangchunhu/","homeDirectory":"/var/vmail/vmail1/cetcxl.com/wangchunhu/","accountStatus":"active","enabledService":["mail","deliver","lda","... (set the log level to DEBUG or TRACE to see the full content) 
 </msg>
<msg timestamp="20200917 15:20:52.301" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20200917 15:20:51.750" endtime="20200917 15:20:52.301"></status>
</kw>
<kw name="Evaluate" library="BuiltIn">
<doc>Evaluates the given expression in Python and returns the result.</doc>
<arguments>
<arg>json.loads("""${resp.text}""")</arg>
<arg>json</arg>
</arguments>
<assign>
<var>@{data}</var>
</assign>
<msg timestamp="20200917 15:20:52.579" level="INFO">@{data} = [ {'objectClass': ['inetOrgPerson', 'mailUser', 'shadowAccount', 'amavisAccount', 'posixAccount'], 'mail': 'zhouzhaocai@cetcxl.com', 'uid': 'zhouzhaocai', 'storageBaseDirectory': '/var/vmail', 'mailMe...</msg>
<status status="PASS" starttime="20200917 15:20:52.301" endtime="20200917 15:20:52.579"></status>
</kw>
<kw name="Get Length" library="BuiltIn">
<doc>Returns and logs the length of the given item as an integer.</doc>
<arguments>
<arg>${data}</arg>
</arguments>
<assign>
<var>${current_users}</var>
</assign>
<msg timestamp="20200917 15:20:52.579" level="INFO">Length is 82</msg>
<msg timestamp="20200917 15:20:52.579" level="INFO">${current_users} = 82</msg>
<status status="PASS" starttime="20200917 15:20:52.579" endtime="20200917 15:20:52.579"></status>
</kw>
<msg timestamp="20200917 15:20:52.579" level="INFO">${current_user_no} = 82</msg>
<status status="PASS" starttime="20200917 15:20:51.750" endtime="20200917 15:20:52.579"></status>
</kw>
<kw name="Evaluate" library="BuiltIn">
<doc>Evaluates the given expression in Python and returns the result.</doc>
<arguments>
<arg>${USERS_NO} + 1</arg>
</arguments>
<assign>
<var>${tmp}</var>
</assign>
<msg timestamp="20200917 15:20:52.580" level="INFO">${tmp} = 82</msg>
<status status="PASS" starttime="20200917 15:20:52.579" endtime="20200917 15:20:52.580"></status>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<doc>Fails if the given objects are unequal.</doc>
<arguments>
<arg>${current_user_no}</arg>
<arg>${tmp}</arg>
</arguments>
<status status="PASS" starttime="20200917 15:20:52.580" endtime="20200917 15:20:52.580"></status>
</kw>
<status status="PASS" starttime="20200917 15:20:51.750" endtime="20200917 15:20:52.580" critical="yes"></status>
</test>
<test id="s1-s1-t7" name="Test PUT /api/users/{userid}">
<kw name="Create Dictionary" library="BuiltIn">
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<arguments>
<arg>Content-Type=application/json</arg>
</arguments>
<assign>
<var>&amp;{headers}</var>
</assign>
<msg timestamp="20200917 15:20:52.581" level="INFO">&amp;{headers} = { Content-Type=application/json }</msg>
<status status="PASS" starttime="20200917 15:20:52.581" endtime="20200917 15:20:52.581"></status>
</kw>
<kw name="Create Dictionary" library="BuiltIn">
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<arguments>
<arg>cn=zhangsan</arg>
<arg>sn=张</arg>
<arg>givenName=三</arg>
<arg>admin=False</arg>
</arguments>
<assign>
<var>&amp;{user}</var>
</assign>
<msg timestamp="20200917 15:20:52.582" level="INFO">&amp;{user} = { cn=zhangsan | sn=张 | givenName=三 | admin=False }</msg>
<status status="PASS" starttime="20200917 15:20:52.581" endtime="20200917 15:20:52.582"></status>
</kw>
<kw name="Put Request" library="RequestsLibrary">
<doc>Send a PUT request on the session object found using the
given `alias`</doc>
<arguments>
<arg>${USERS_SESSION}</arg>
<arg>/api/users/${TEST_USER}</arg>
<arg>data=${user}</arg>
<arg>headers=${headers}</arg>
</arguments>
<assign>
<var>${resp}</var>
</assign>
<msg timestamp="20200917 15:20:52.873" level="INFO">PUT Request : url=http://172.16.66.6:8000/api/users/zhangsan 
 path_url=/api/users/zhangsan 
 headers={'User-Agent': 'python-requests/2.24.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Authorization': 'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ6aGFuZ3BlbmciLCJleHAiOjE2MDAzMzA4NDl9.LaxiF1d7vF6rO-czo1XRXWPqbCWziIDmvS7oMwD_Okc', 'Content-Type': 'application/json', 'Content-Length': '75'} 
 body={"cn": "zhangsan", "sn": "\u5f20", "givenName": "\u4e09", "admin": "False"} 
 </msg>
<msg timestamp="20200917 15:20:52.874" level="INFO">PUT Response : url=http://172.16.66.6:8000/api/users/zhangsan 
 status=200, reason=OK 
 body={"detail":"zhangsan updated"} 
 </msg>
<msg timestamp="20200917 15:20:52.874" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20200917 15:20:52.582" endtime="20200917 15:20:52.874"></status>
</kw>
<kw name="Status Should Be" library="RequestsLibrary">
<doc>Fails if response status code is different than the expected.</doc>
<arguments>
<arg>200</arg>
<arg>${resp}</arg>
</arguments>
<status status="PASS" starttime="20200917 15:20:52.874" endtime="20200917 15:20:52.875"></status>
</kw>
<status status="PASS" starttime="20200917 15:20:52.581" endtime="20200917 15:20:52.875" critical="yes"></status>
</test>
<test id="s1-s1-t8" name="Check User Attribute">
<kw name="Get User">
<arguments>
<arg>${TEST_USER}</arg>
</arguments>
<assign>
<var>${user}</var>
</assign>
<kw name="Get Request" library="RequestsLibrary">
<doc>Send a GET request on the session object found using the
given `alias`</doc>
<arguments>
<arg>${USERS_SESSION}</arg>
<arg>/api/users/${uid}</arg>
</arguments>
<assign>
<var>${resp}</var>
</assign>
<msg timestamp="20200917 15:20:53.043" level="INFO">GET Request : url=http://172.16.66.6:8000/api/users/zhangsan 
 path_url=/api/users/zhangsan 
 headers={'User-Agent': 'python-requests/2.24.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Authorization': 'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ6aGFuZ3BlbmciLCJleHAiOjE2MDAzMzA4NDl9.LaxiF1d7vF6rO-czo1XRXWPqbCWziIDmvS7oMwD_Okc'} 
 body=None 
 </msg>
<msg timestamp="20200917 15:20:53.057" level="INFO">GET Response : url=http://172.16.66.6:8000/api/users/zhangsan 
 status=200, reason=OK 
 body={"objectClass":["inetOrgPerson","shadowAccount","amavisAccount","mailUser","posixAccount"],"enabledService":["mail","deliver","lda","lmtp","smtp","smtpsecured","pop3","pop3secured","pop3tls","imap","imapsecured","imaptls","managesieve","managesievesecured","sogo","sieve","sievesecured","forward","senderbcc","recipientbcc","internal","lib-storage","indexer-worker","doveadm","dsync","shadowaddress","displayedInGlobalAddressBook"],"uid":"zhangsan","amavisLocal":true,"homeDirectory":"/var/vmail/vmail1/cetcxl.com/zhangsan/","mail":"zhangsan@cetcxl.com","mailboxFormat":"maildir","mailMessageStore":"vmail1/cetcxl.com/zhangsan/","storageBaseDirectory":"/var/vmail","domainGlobalAdmin":"no","preferredLanguage":"zh_CN","accountStatus":"active","mailQuota":5368709120,"shadowMax":-1,"shadowLastChange":-1,"loginShell":"/bin/bash","uidNumber":202003192,"gidNumber":202003192,"cn":"zhangsan","givenName":"三","sn":"张","displayName":"zhangsan","dn":"mail=zhangsan@cetcxl.com,ou=Users,domainName=cetcxl.com,o=domains,dc=cetcxl,dc=com"} 
 </msg>
<msg timestamp="20200917 15:20:53.057" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20200917 15:20:52.877" endtime="20200917 15:20:53.057"></status>
</kw>
<kw name="Evaluate" library="BuiltIn">
<doc>Evaluates the given expression in Python and returns the result.</doc>
<arguments>
<arg>json.loads("""${resp.text}""")</arg>
<arg>json</arg>
</arguments>
<assign>
<var>&amp;{data}</var>
</assign>
<msg timestamp="20200917 15:20:53.071" level="INFO">&amp;{data} = { objectClass=['inetOrgPerson', 'shadowAccount', 'amavisAccount', 'mailUser', 'posixAccount'] | enabledService=['mail', 'deliver', 'lda', 'lmtp', 'smtp', 'smtpsecured', 'pop3', 'pop3secured', 'pop3tls...</msg>
<status status="PASS" starttime="20200917 15:20:53.057" endtime="20200917 15:20:53.071"></status>
</kw>
<msg timestamp="20200917 15:20:53.071" level="INFO">${user} = {'objectClass': ['inetOrgPerson', 'shadowAccount', 'amavisAccount', 'mailUser', 'posixAccount'], 'enabledService': ['mail', 'deliver', 'lda', 'lmtp', 'smtp', 'smtpsecured', 'pop3', 'pop3secured', 'pop...</msg>
<status status="PASS" starttime="20200917 15:20:52.876" endtime="20200917 15:20:53.071"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${user.cn}</arg>
</arguments>
<msg timestamp="20200917 15:20:53.071" level="INFO">zhangsan</msg>
<status status="PASS" starttime="20200917 15:20:53.071" endtime="20200917 15:20:53.072"></status>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<doc>Fails if the given objects are unequal.</doc>
<arguments>
<arg>${user.cn}</arg>
<arg>zhangsan</arg>
</arguments>
<status status="PASS" starttime="20200917 15:20:53.072" endtime="20200917 15:20:53.072"></status>
</kw>
<status status="PASS" starttime="20200917 15:20:52.876" endtime="20200917 15:20:53.072" critical="yes"></status>
</test>
<test id="s1-s1-t9" name="Test PUT /api/users/{userid}/lock">
<kw name="Put Request" library="RequestsLibrary">
<doc>Send a PUT request on the session object found using the
given `alias`</doc>
<arguments>
<arg>${USERS_SESSION}</arg>
<arg>/api/users/${TEST_USER}/lock</arg>
</arguments>
<assign>
<var>${resp}</var>
</assign>
<msg timestamp="20200917 15:20:53.241" level="INFO">PUT Request : url=http://172.16.66.6:8000/api/users/zhangsan/lock 
 path_url=/api/users/zhangsan/lock 
 headers={'User-Agent': 'python-requests/2.24.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Authorization': 'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ6aGFuZ3BlbmciLCJleHAiOjE2MDAzMzA4NDl9.LaxiF1d7vF6rO-czo1XRXWPqbCWziIDmvS7oMwD_Okc', 'Content-Length': '0'} 
 body=None 
 </msg>
<msg timestamp="20200917 15:20:53.241" level="INFO">PUT Response : url=http://172.16.66.6:8000/api/users/zhangsan/lock 
 status=200, reason=OK 
 body={"detail":"zhangsan locked"} 
 </msg>
<msg timestamp="20200917 15:20:53.241" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20200917 15:20:53.073" endtime="20200917 15:20:53.241"></status>
</kw>
<kw name="Status Should Be" library="RequestsLibrary">
<doc>Fails if response status code is different than the expected.</doc>
<arguments>
<arg>200</arg>
<arg>${resp}</arg>
</arguments>
<status status="PASS" starttime="20200917 15:20:53.242" endtime="20200917 15:20:53.242"></status>
</kw>
<status status="PASS" starttime="20200917 15:20:53.072" endtime="20200917 15:20:53.243" critical="yes"></status>
</test>
<test id="s1-s1-t10" name="Check User Lock">
<kw name="Get User">
<arguments>
<arg>${TEST_USER}</arg>
</arguments>
<assign>
<var>&amp;{user}</var>
</assign>
<kw name="Get Request" library="RequestsLibrary">
<doc>Send a GET request on the session object found using the
given `alias`</doc>
<arguments>
<arg>${USERS_SESSION}</arg>
<arg>/api/users/${uid}</arg>
</arguments>
<assign>
<var>${resp}</var>
</assign>
<msg timestamp="20200917 15:20:53.391" level="INFO">GET Request : url=http://172.16.66.6:8000/api/users/zhangsan 
 path_url=/api/users/zhangsan 
 headers={'User-Agent': 'python-requests/2.24.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Authorization': 'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ6aGFuZ3BlbmciLCJleHAiOjE2MDAzMzA4NDl9.LaxiF1d7vF6rO-czo1XRXWPqbCWziIDmvS7oMwD_Okc'} 
 body=None 
 </msg>
<msg timestamp="20200917 15:20:53.411" level="INFO">GET Response : url=http://172.16.66.6:8000/api/users/zhangsan 
 status=200, reason=OK 
 body={"objectClass":["inetOrgPerson","shadowAccount","amavisAccount","mailUser","posixAccount"],"enabledService":["mail","deliver","lda","lmtp","smtp","smtpsecured","pop3","pop3secured","pop3tls","imap","imapsecured","imaptls","managesieve","managesievesecured","sogo","sieve","sievesecured","forward","senderbcc","recipientbcc","internal","lib-storage","indexer-worker","doveadm","dsync","shadowaddress","displayedInGlobalAddressBook"],"uid":"zhangsan","amavisLocal":true,"homeDirectory":"/var/vmail/vmail1/cetcxl.com/zhangsan/","mail":"zhangsan@cetcxl.com","mailboxFormat":"maildir","mailMessageStore":"vmail1/cetcxl.com/zhangsan/","storageBaseDirectory":"/var/vmail","domainGlobalAdmin":"no","preferredLanguage":"zh_CN","mailQuota":5368709120,"shadowMax":-1,"shadowLastChange":-1,"loginShell":"/bin/bash","uidNumber":202003192,"gidNumber":202003192,"cn":"zhangsan","givenName":"三","sn":"张","displayName":"zhangsan","accountStatus":"inactive","dn":"mail=zhangsan@cetcxl.com,ou=Users,domainName=cetcxl.com,o=domains,dc=cetcxl,dc=com"} 
 </msg>
<msg timestamp="20200917 15:20:53.411" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20200917 15:20:53.245" endtime="20200917 15:20:53.411"></status>
</kw>
<kw name="Evaluate" library="BuiltIn">
<doc>Evaluates the given expression in Python and returns the result.</doc>
<arguments>
<arg>json.loads("""${resp.text}""")</arg>
<arg>json</arg>
</arguments>
<assign>
<var>&amp;{data}</var>
</assign>
<msg timestamp="20200917 15:20:53.424" level="INFO">&amp;{data} = { objectClass=['inetOrgPerson', 'shadowAccount', 'amavisAccount', 'mailUser', 'posixAccount'] | enabledService=['mail', 'deliver', 'lda', 'lmtp', 'smtp', 'smtpsecured', 'pop3', 'pop3secured', 'pop3tls...</msg>
<status status="PASS" starttime="20200917 15:20:53.411" endtime="20200917 15:20:53.424"></status>
</kw>
<msg timestamp="20200917 15:20:53.425" level="INFO">&amp;{user} = { objectClass=['inetOrgPerson', 'shadowAccount', 'amavisAccount', 'mailUser', 'posixAccount'] | enabledService=['mail', 'deliver', 'lda', 'lmtp', 'smtp', 'smtpsecured', 'pop3', 'pop3secured', 'pop3tls...</msg>
<status status="PASS" starttime="20200917 15:20:53.244" endtime="20200917 15:20:53.425"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${user}</arg>
</arguments>
<msg timestamp="20200917 15:20:53.425" level="INFO">{'objectClass': ['inetOrgPerson', 'shadowAccount', 'amavisAccount', 'mailUser', 'posixAccount'], 'enabledService': ['mail', 'deliver', 'lda', 'lmtp', 'smtp', 'smtpsecured', 'pop3', 'pop3secured', 'pop3tls', 'imap', 'imapsecured', 'imaptls', 'managesieve', 'managesievesecured', 'sogo', 'sieve', 'sievesecured', 'forward', 'senderbcc', 'recipientbcc', 'internal', 'lib-storage', 'indexer-worker', 'doveadm', 'dsync', 'shadowaddress', 'displayedInGlobalAddressBook'], 'uid': 'zhangsan', 'amavisLocal': True, 'homeDirectory': '/var/vmail/vmail1/cetcxl.com/zhangsan/', 'mail': 'zhangsan@cetcxl.com', 'mailboxFormat': 'maildir', 'mailMessageStore': 'vmail1/cetcxl.com/zhangsan/', 'storageBaseDirectory': '/var/vmail', 'domainGlobalAdmin': 'no', 'preferredLanguage': 'zh_CN', 'mailQuota': 5368709120, 'shadowMax': -1, 'shadowLastChange': -1, 'loginShell': '/bin/bash', 'uidNumber': 202003192, 'gidNumber': 202003192, 'cn': 'zhangsan', 'givenName': '三', 'sn': '张', 'displayName': 'zhangsan', 'accountStatus': 'inactive', 'dn': 'mail=zhangsan@cetcxl.com,ou=Users,domainName=cetcxl.com,o=domains,dc=cetcxl,dc=com'}</msg>
<status status="PASS" starttime="20200917 15:20:53.425" endtime="20200917 15:20:53.425"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${user.accountStatus}</arg>
</arguments>
<msg timestamp="20200917 15:20:53.426" level="INFO">inactive</msg>
<status status="PASS" starttime="20200917 15:20:53.426" endtime="20200917 15:20:53.426"></status>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<doc>Fails if the given objects are unequal.</doc>
<arguments>
<arg>${user.accountStatus}</arg>
<arg>inactive</arg>
</arguments>
<status status="PASS" starttime="20200917 15:20:53.426" endtime="20200917 15:20:53.426"></status>
</kw>
<status status="PASS" starttime="20200917 15:20:53.244" endtime="20200917 15:20:53.426" critical="yes"></status>
</test>
<test id="s1-s1-t11" name="Test PUT /api/users/{userid}/unlock">
<kw name="Put Request" library="RequestsLibrary">
<doc>Send a PUT request on the session object found using the
given `alias`</doc>
<arguments>
<arg>${USERS_SESSION}</arg>
<arg>/api/users/${TEST_USER}/unlock</arg>
</arguments>
<assign>
<var>${resp}</var>
</assign>
<msg timestamp="20200917 15:20:53.620" level="INFO">PUT Request : url=http://172.16.66.6:8000/api/users/zhangsan/unlock 
 path_url=/api/users/zhangsan/unlock 
 headers={'User-Agent': 'python-requests/2.24.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Authorization': 'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ6aGFuZ3BlbmciLCJleHAiOjE2MDAzMzA4NDl9.LaxiF1d7vF6rO-czo1XRXWPqbCWziIDmvS7oMwD_Okc', 'Content-Length': '0'} 
 body=None 
 </msg>
<msg timestamp="20200917 15:20:53.621" level="INFO">PUT Response : url=http://172.16.66.6:8000/api/users/zhangsan/unlock 
 status=200, reason=OK 
 body={"detail":"zhangsan unlocked"} 
 </msg>
<msg timestamp="20200917 15:20:53.621" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20200917 15:20:53.427" endtime="20200917 15:20:53.621"></status>
</kw>
<kw name="Status Should Be" library="RequestsLibrary">
<doc>Fails if response status code is different than the expected.</doc>
<arguments>
<arg>200</arg>
<arg>${resp}</arg>
</arguments>
<status status="PASS" starttime="20200917 15:20:53.622" endtime="20200917 15:20:53.622"></status>
</kw>
<status status="PASS" starttime="20200917 15:20:53.427" endtime="20200917 15:20:53.623" critical="yes"></status>
</test>
<test id="s1-s1-t12" name="Check User Unlock">
<kw name="Get User">
<arguments>
<arg>${TEST_USER}</arg>
</arguments>
<assign>
<var>&amp;{user}</var>
</assign>
<kw name="Get Request" library="RequestsLibrary">
<doc>Send a GET request on the session object found using the
given `alias`</doc>
<arguments>
<arg>${USERS_SESSION}</arg>
<arg>/api/users/${uid}</arg>
</arguments>
<assign>
<var>${resp}</var>
</assign>
<msg timestamp="20200917 15:20:53.824" level="INFO">GET Request : url=http://172.16.66.6:8000/api/users/zhangsan 
 path_url=/api/users/zhangsan 
 headers={'User-Agent': 'python-requests/2.24.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Authorization': 'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ6aGFuZ3BlbmciLCJleHAiOjE2MDAzMzA4NDl9.LaxiF1d7vF6rO-czo1XRXWPqbCWziIDmvS7oMwD_Okc'} 
 body=None 
 </msg>
<msg timestamp="20200917 15:20:53.845" level="INFO">GET Response : url=http://172.16.66.6:8000/api/users/zhangsan 
 status=200, reason=OK 
 body={"objectClass":["inetOrgPerson","shadowAccount","amavisAccount","mailUser","posixAccount"],"enabledService":["mail","deliver","lda","lmtp","smtp","smtpsecured","pop3","pop3secured","pop3tls","imap","imapsecured","imaptls","managesieve","managesievesecured","sogo","sieve","sievesecured","forward","senderbcc","recipientbcc","internal","lib-storage","indexer-worker","doveadm","dsync","shadowaddress","displayedInGlobalAddressBook"],"uid":"zhangsan","amavisLocal":true,"homeDirectory":"/var/vmail/vmail1/cetcxl.com/zhangsan/","mail":"zhangsan@cetcxl.com","mailboxFormat":"maildir","mailMessageStore":"vmail1/cetcxl.com/zhangsan/","storageBaseDirectory":"/var/vmail","domainGlobalAdmin":"no","preferredLanguage":"zh_CN","mailQuota":5368709120,"shadowMax":-1,"shadowLastChange":-1,"loginShell":"/bin/bash","uidNumber":202003192,"gidNumber":202003192,"cn":"zhangsan","givenName":"三","sn":"张","displayName":"zhangsan","accountStatus":"active","dn":"mail=zhangsan@cetcxl.com,ou=Users,domainName=cetcxl.com,o=domains,dc=cetcxl,dc=com"} 
 </msg>
<msg timestamp="20200917 15:20:53.845" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20200917 15:20:53.625" endtime="20200917 15:20:53.845"></status>
</kw>
<kw name="Evaluate" library="BuiltIn">
<doc>Evaluates the given expression in Python and returns the result.</doc>
<arguments>
<arg>json.loads("""${resp.text}""")</arg>
<arg>json</arg>
</arguments>
<assign>
<var>&amp;{data}</var>
</assign>
<msg timestamp="20200917 15:20:53.859" level="INFO">&amp;{data} = { objectClass=['inetOrgPerson', 'shadowAccount', 'amavisAccount', 'mailUser', 'posixAccount'] | enabledService=['mail', 'deliver', 'lda', 'lmtp', 'smtp', 'smtpsecured', 'pop3', 'pop3secured', 'pop3tls...</msg>
<status status="PASS" starttime="20200917 15:20:53.845" endtime="20200917 15:20:53.859"></status>
</kw>
<msg timestamp="20200917 15:20:53.860" level="INFO">&amp;{user} = { objectClass=['inetOrgPerson', 'shadowAccount', 'amavisAccount', 'mailUser', 'posixAccount'] | enabledService=['mail', 'deliver', 'lda', 'lmtp', 'smtp', 'smtpsecured', 'pop3', 'pop3secured', 'pop3tls...</msg>
<status status="PASS" starttime="20200917 15:20:53.625" endtime="20200917 15:20:53.860"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${user}</arg>
</arguments>
<msg timestamp="20200917 15:20:53.860" level="INFO">{'objectClass': ['inetOrgPerson', 'shadowAccount', 'amavisAccount', 'mailUser', 'posixAccount'], 'enabledService': ['mail', 'deliver', 'lda', 'lmtp', 'smtp', 'smtpsecured', 'pop3', 'pop3secured', 'pop3tls', 'imap', 'imapsecured', 'imaptls', 'managesieve', 'managesievesecured', 'sogo', 'sieve', 'sievesecured', 'forward', 'senderbcc', 'recipientbcc', 'internal', 'lib-storage', 'indexer-worker', 'doveadm', 'dsync', 'shadowaddress', 'displayedInGlobalAddressBook'], 'uid': 'zhangsan', 'amavisLocal': True, 'homeDirectory': '/var/vmail/vmail1/cetcxl.com/zhangsan/', 'mail': 'zhangsan@cetcxl.com', 'mailboxFormat': 'maildir', 'mailMessageStore': 'vmail1/cetcxl.com/zhangsan/', 'storageBaseDirectory': '/var/vmail', 'domainGlobalAdmin': 'no', 'preferredLanguage': 'zh_CN', 'mailQuota': 5368709120, 'shadowMax': -1, 'shadowLastChange': -1, 'loginShell': '/bin/bash', 'uidNumber': 202003192, 'gidNumber': 202003192, 'cn': 'zhangsan', 'givenName': '三', 'sn': '张', 'displayName': 'zhangsan', 'accountStatus': 'active', 'dn': 'mail=zhangsan@cetcxl.com,ou=Users,domainName=cetcxl.com,o=domains,dc=cetcxl,dc=com'}</msg>
<status status="PASS" starttime="20200917 15:20:53.860" endtime="20200917 15:20:53.860"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${user.accountStatus}</arg>
</arguments>
<msg timestamp="20200917 15:20:53.861" level="INFO">active</msg>
<status status="PASS" starttime="20200917 15:20:53.860" endtime="20200917 15:20:53.861"></status>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<doc>Fails if the given objects are unequal.</doc>
<arguments>
<arg>${user.accountStatus}</arg>
<arg>active</arg>
</arguments>
<status status="PASS" starttime="20200917 15:20:53.861" endtime="20200917 15:20:53.861"></status>
</kw>
<status status="PASS" starttime="20200917 15:20:53.624" endtime="20200917 15:20:53.861" critical="yes"></status>
</test>
<test id="s1-s1-t13" name="Test PUT /api/users/password">
<kw name="Create Dictionary" library="BuiltIn">
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<arguments>
<arg>Content-Type=application/json</arg>
</arguments>
<assign>
<var>&amp;{headers}</var>
</assign>
<msg timestamp="20200917 15:20:53.862" level="INFO">&amp;{headers} = { Content-Type=application/json }</msg>
<status status="PASS" starttime="20200917 15:20:53.862" endtime="20200917 15:20:53.862"></status>
</kw>
<kw name="Create Dictionary" library="BuiltIn">
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<arguments>
<arg>old_password=${PASSWORD}</arg>
<arg>new_password=${NEW_PASSWORD}</arg>
</arguments>
<assign>
<var>&amp;{password_update}</var>
</assign>
<msg timestamp="20200917 15:20:53.863" level="INFO">&amp;{password_update} = { old_password=zhangpeng | new_password=P@ssw0rd }</msg>
<status status="PASS" starttime="20200917 15:20:53.862" endtime="20200917 15:20:53.863"></status>
</kw>
<kw name="Put Request" library="RequestsLibrary">
<doc>Send a PUT request on the session object found using the
given `alias`</doc>
<arguments>
<arg>${USERS_SESSION}</arg>
<arg>/api/users/password</arg>
<arg>data=${password_update}</arg>
<arg>headers=${headers}</arg>
</arguments>
<assign>
<var>${resp}</var>
</assign>
<msg timestamp="20200917 15:20:54.037" level="INFO">PUT Request : url=http://172.16.66.6:8000/api/users/password 
 path_url=/api/users/password 
 headers={'User-Agent': 'python-requests/2.24.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Authorization': 'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ6aGFuZ3BlbmciLCJleHAiOjE2MDAzMzA4NDl9.LaxiF1d7vF6rO-czo1XRXWPqbCWziIDmvS7oMwD_Okc', 'Content-Type': 'application/json', 'Content-Length': '57'} 
 body={"old_password": "zhangpeng", "new_password": "P@ssw0rd"} 
 </msg>
<msg timestamp="20200917 15:20:54.038" level="INFO">PUT Response : url=http://172.16.66.6:8000/api/users/password 
 status=200, reason=OK 
 body={"detail":"密码已更新"} 
 </msg>
<msg timestamp="20200917 15:20:54.039" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20200917 15:20:53.863" endtime="20200917 15:20:54.039"></status>
</kw>
<kw name="Status Should Be" library="RequestsLibrary">
<doc>Fails if response status code is different than the expected.</doc>
<arguments>
<arg>200</arg>
<arg>${resp}</arg>
</arguments>
<status status="PASS" starttime="20200917 15:20:54.040" endtime="20200917 15:20:54.040"></status>
</kw>
<status status="PASS" starttime="20200917 15:20:53.862" endtime="20200917 15:20:54.041" critical="yes"></status>
</test>
<test id="s1-s1-t14" name="Verify Password">
<kw name="Create Dictionary" library="BuiltIn">
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<arguments>
<arg>Content-Type=application/x-www-form-urlencoded</arg>
</arguments>
<assign>
<var>${headers}</var>
</assign>
<msg timestamp="20200917 15:20:54.043" level="INFO">${headers} = {'Content-Type': 'application/x-www-form-urlencoded'}</msg>
<status status="PASS" starttime="20200917 15:20:54.042" endtime="20200917 15:20:54.043"></status>
</kw>
<kw name="Create Dictionary" library="BuiltIn">
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<arguments>
<arg>username=${username}</arg>
<arg>password=${NEW_PASSWORD}</arg>
</arguments>
<assign>
<var>${form_data}</var>
</assign>
<msg timestamp="20200917 15:20:54.044" level="INFO">${form_data} = {'username': 'zhangpeng', 'password': 'P@ssw0rd'}</msg>
<status status="PASS" starttime="20200917 15:20:54.043" endtime="20200917 15:20:54.044"></status>
</kw>
<kw name="Create Session" library="RequestsLibrary">
<doc>Create Session: create a HTTP session to a server</doc>
<arguments>
<arg>token_session</arg>
<arg>${API_BACKEND}</arg>
</arguments>
<msg timestamp="20200917 15:20:54.045" level="INFO">Creating Session using : alias=token_session, url=http://172.16.66.6:8000, headers={},                     cookies={}, auth=None, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<status status="PASS" starttime="20200917 15:20:54.045" endtime="20200917 15:20:54.046"></status>
</kw>
<kw name="Post Request" library="RequestsLibrary">
<doc>Send a POST request on the session object found using the
given `alias`</doc>
<arguments>
<arg>token_session</arg>
<arg>${TOKEN_API}</arg>
<arg>data=${form_data}</arg>
<arg>headers=${headers}</arg>
</arguments>
<assign>
<var>${resp}</var>
</assign>
<msg timestamp="20200917 15:20:54.197" level="INFO">POST Request : url=http://172.16.66.6:8000/api/token 
 path_url=/api/token 
 headers={'User-Agent': 'python-requests/2.24.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Type': 'application/x-www-form-urlencoded', 'Content-Length': '38'} 
 body=username=zhangpeng&amp;password=P%40ssw0rd 
 </msg>
<msg timestamp="20200917 15:20:54.197" level="INFO">POST Response : url=http://172.16.66.6:8000/api/token 
 status=200, reason=OK 
 body={"access_token":"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ6aGFuZ3BlbmciLCJleHAiOjE2MDAzMzA4NTR9.R36FLDDficxiZCb05aVpholqTAtEgwwdFbsMqoLg4ro","token_type":"bearer","admin":true} 
 </msg>
<msg timestamp="20200917 15:20:54.197" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20200917 15:20:54.046" endtime="20200917 15:20:54.198"></status>
</kw>
<kw name="Status Should Be" library="RequestsLibrary">
<doc>Fails if response status code is different than the expected.</doc>
<arguments>
<arg>200</arg>
<arg>${resp}</arg>
</arguments>
<status status="PASS" starttime="20200917 15:20:54.198" endtime="20200917 15:20:54.199"></status>
</kw>
<status status="PASS" starttime="20200917 15:20:54.041" endtime="20200917 15:20:54.199" critical="yes"></status>
</test>
<test id="s1-s1-t15" name="Revert Passwod">
<kw name="Create Dictionary" library="BuiltIn">
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<arguments>
<arg>Content-Type=application/json</arg>
</arguments>
<assign>
<var>&amp;{headers}</var>
</assign>
<msg timestamp="20200917 15:20:54.201" level="INFO">&amp;{headers} = { Content-Type=application/json }</msg>
<status status="PASS" starttime="20200917 15:20:54.200" endtime="20200917 15:20:54.201"></status>
</kw>
<kw name="Create Dictionary" library="BuiltIn">
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<arguments>
<arg>old_password=${NEW_PASSWORD}</arg>
<arg>new_password=${PASSWORD}</arg>
</arguments>
<assign>
<var>&amp;{password_update}</var>
</assign>
<msg timestamp="20200917 15:20:54.203" level="INFO">&amp;{password_update} = { old_password=P@ssw0rd | new_password=zhangpeng }</msg>
<status status="PASS" starttime="20200917 15:20:54.202" endtime="20200917 15:20:54.203"></status>
</kw>
<kw name="Put Request" library="RequestsLibrary">
<doc>Send a PUT request on the session object found using the
given `alias`</doc>
<arguments>
<arg>${USERS_SESSION}</arg>
<arg>/api/users/password</arg>
<arg>data=${password_update}</arg>
<arg>headers=${headers}</arg>
</arguments>
<assign>
<var>${resp}</var>
</assign>
<msg timestamp="20200917 15:20:54.386" level="INFO">PUT Request : url=http://172.16.66.6:8000/api/users/password 
 path_url=/api/users/password 
 headers={'User-Agent': 'python-requests/2.24.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Authorization': 'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ6aGFuZ3BlbmciLCJleHAiOjE2MDAzMzA4NDl9.LaxiF1d7vF6rO-czo1XRXWPqbCWziIDmvS7oMwD_Okc', 'Content-Type': 'application/json', 'Content-Length': '57'} 
 body={"old_password": "P@ssw0rd", "new_password": "zhangpeng"} 
 </msg>
<msg timestamp="20200917 15:20:54.388" level="INFO">PUT Response : url=http://172.16.66.6:8000/api/users/password 
 status=200, reason=OK 
 body={"detail":"密码已更新"} 
 </msg>
<msg timestamp="20200917 15:20:54.388" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20200917 15:20:54.203" endtime="20200917 15:20:54.388"></status>
</kw>
<kw name="Status Should Be" library="RequestsLibrary">
<doc>Fails if response status code is different than the expected.</doc>
<arguments>
<arg>200</arg>
<arg>${resp}</arg>
</arguments>
<status status="PASS" starttime="20200917 15:20:54.389" endtime="20200917 15:20:54.389"></status>
</kw>
<status status="PASS" starttime="20200917 15:20:54.200" endtime="20200917 15:20:54.390" critical="yes"></status>
</test>
<test id="s1-s1-t16" name="Test PUT /api/users/{userid}/password/reset">
<kw name="Put Request" library="RequestsLibrary">
<doc>Send a PUT request on the session object found using the
given `alias`</doc>
<arguments>
<arg>${USERS_SESSION}</arg>
<arg>/api/users/${TEST_USER}/password/reset</arg>
</arguments>
<assign>
<var>${resp}</var>
</assign>
<msg timestamp="20200917 15:20:54.568" level="INFO">PUT Request : url=http://172.16.66.6:8000/api/users/zhangsan/password/reset 
 path_url=/api/users/zhangsan/password/reset 
 headers={'User-Agent': 'python-requests/2.24.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Authorization': 'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ6aGFuZ3BlbmciLCJleHAiOjE2MDAzMzA4NDl9.LaxiF1d7vF6rO-czo1XRXWPqbCWziIDmvS7oMwD_Okc', 'Content-Length': '0'} 
 body=None 
 </msg>
<msg timestamp="20200917 15:20:54.568" level="INFO">PUT Response : url=http://172.16.66.6:8000/api/users/zhangsan/password/reset 
 status=200, reason=OK 
 body={"detail":"Password reset for zhangsan"} 
 </msg>
<msg timestamp="20200917 15:20:54.569" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20200917 15:20:54.392" endtime="20200917 15:20:54.569"></status>
</kw>
<kw name="Status Should Be" library="RequestsLibrary">
<doc>Fails if response status code is different than the expected.</doc>
<arguments>
<arg>200</arg>
<arg>${resp}</arg>
</arguments>
<status status="PASS" starttime="20200917 15:20:54.569" endtime="20200917 15:20:54.570"></status>
</kw>
<status status="PASS" starttime="20200917 15:20:54.391" endtime="20200917 15:20:54.570" critical="yes"></status>
</test>
<test id="s1-s1-t17" name="Verify User Password">
<kw name="Create Dictionary" library="BuiltIn">
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<arguments>
<arg>Content-Type=application/x-www-form-urlencoded</arg>
</arguments>
<assign>
<var>${headers}</var>
</assign>
<msg timestamp="20200917 15:20:54.573" level="INFO">${headers} = {'Content-Type': 'application/x-www-form-urlencoded'}</msg>
<status status="PASS" starttime="20200917 15:20:54.572" endtime="20200917 15:20:54.573"></status>
</kw>
<kw name="Create Dictionary" library="BuiltIn">
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<arguments>
<arg>username=${TEST_USER}</arg>
<arg>password=12345678</arg>
</arguments>
<assign>
<var>${form_data}</var>
</assign>
<msg timestamp="20200917 15:20:54.575" level="INFO">${form_data} = {'username': 'zhangsan', 'password': '12345678'}</msg>
<status status="PASS" starttime="20200917 15:20:54.574" endtime="20200917 15:20:54.575"></status>
</kw>
<kw name="Create Session" library="RequestsLibrary">
<doc>Create Session: create a HTTP session to a server</doc>
<arguments>
<arg>token_session</arg>
<arg>${API_BACKEND}</arg>
</arguments>
<msg timestamp="20200917 15:20:54.576" level="INFO">Creating Session using : alias=token_session, url=http://172.16.66.6:8000, headers={},                     cookies={}, auth=None, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<status status="PASS" starttime="20200917 15:20:54.575" endtime="20200917 15:20:54.576"></status>
</kw>
<kw name="Post Request" library="RequestsLibrary">
<doc>Send a POST request on the session object found using the
given `alias`</doc>
<arguments>
<arg>token_session</arg>
<arg>${TOKEN_API}</arg>
<arg>data=${form_data}</arg>
<arg>headers=${headers}</arg>
</arguments>
<assign>
<var>${resp}</var>
</assign>
<msg timestamp="20200917 15:20:54.771" level="INFO">POST Request : url=http://172.16.66.6:8000/api/token 
 path_url=/api/token 
 headers={'User-Agent': 'python-requests/2.24.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Type': 'application/x-www-form-urlencoded', 'Content-Length': '35'} 
 body=username=zhangsan&amp;password=12345678 
 </msg>
<msg timestamp="20200917 15:20:54.772" level="INFO">POST Response : url=http://172.16.66.6:8000/api/token 
 status=200, reason=OK 
 body={"access_token":"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ6aGFuZ3NhbiIsImV4cCI6MTYwMDMzMDg1NH0.pv2p-qb86om9p5LzbsZYQeld8WxkQSVPFQZTjZZsoQg","token_type":"bearer","admin":false} 
 </msg>
<msg timestamp="20200917 15:20:54.772" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20200917 15:20:54.577" endtime="20200917 15:20:54.772"></status>
</kw>
<kw name="Status Should Be" library="RequestsLibrary">
<doc>Fails if response status code is different than the expected.</doc>
<arguments>
<arg>200</arg>
<arg>${resp}</arg>
</arguments>
<status status="PASS" starttime="20200917 15:20:54.772" endtime="20200917 15:20:54.773"></status>
</kw>
<status status="PASS" starttime="20200917 15:20:54.571" endtime="20200917 15:20:54.774" critical="yes"></status>
</test>
<kw name="Delete User" type="teardown">
<arguments>
<arg>${TEST_USER}</arg>
</arguments>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${uid}</arg>
</arguments>
<msg timestamp="20200917 15:20:54.777" level="INFO">zhangsan</msg>
<status status="PASS" starttime="20200917 15:20:54.777" endtime="20200917 15:20:54.777"></status>
</kw>
<kw name="Delete Request" library="RequestsLibrary">
<doc>Send a DELETE request on the session object found using the
given `alias`</doc>
<arguments>
<arg>${USERS_SESSION}</arg>
<arg>/api/users/${uid}</arg>
</arguments>
<assign>
<var>${resp}</var>
</assign>
<msg timestamp="20200917 15:20:54.965" level="INFO">DELETE Request : url=http://172.16.66.6:8000/api/users/zhangsan 
 path_url=/api/users/zhangsan 
 headers={'User-Agent': 'python-requests/2.24.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Authorization': 'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ6aGFuZ3BlbmciLCJleHAiOjE2MDAzMzA4NDl9.LaxiF1d7vF6rO-czo1XRXWPqbCWziIDmvS7oMwD_Okc', 'Content-Length': '0'} 
 body=None 
 </msg>
<msg timestamp="20200917 15:20:54.965" level="INFO">DELETE Response : url=http://172.16.66.6:8000/api/users/zhangsan 
 status=200, reason=OK 
 body={"detail":"zhangsan deleted"} 
 </msg>
<msg timestamp="20200917 15:20:54.965" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20200917 15:20:54.778" endtime="20200917 15:20:54.966"></status>
</kw>
<status status="PASS" starttime="20200917 15:20:54.776" endtime="20200917 15:20:54.966"></status>
</kw>
<status status="PASS" starttime="20200917 15:20:49.773" endtime="20200917 15:20:54.966"></status>
</suite>
<suite id="s1-s2" name="Util" source="/home/ted/my-github/aut0test/autotest/robot/ldapman/util.robot">
<kw name="Create Oauth2 Session" library="common" type="setup">
<arguments>
<arg>${USERS_SESSION}</arg>
<arg>${USERNAME}</arg>
<arg>${PASSWORD}</arg>
</arguments>
<kw name="Get Oauth2 Token" library="common">
<arguments>
<arg>${username}</arg>
<arg>${password}</arg>
</arguments>
<assign>
<var>${token}</var>
</assign>
<kw name="Create Dictionary" library="BuiltIn">
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<arguments>
<arg>Content-Type=application/x-www-form-urlencoded</arg>
</arguments>
<assign>
<var>${headers}</var>
</assign>
<msg timestamp="20200917 15:20:54.978" level="INFO">${headers} = {'Content-Type': 'application/x-www-form-urlencoded'}</msg>
<status status="PASS" starttime="20200917 15:20:54.978" endtime="20200917 15:20:54.978"></status>
</kw>
<kw name="Create Dictionary" library="BuiltIn">
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<arguments>
<arg>username=${username}</arg>
<arg>password=${password}</arg>
</arguments>
<assign>
<var>${form_data}</var>
</assign>
<msg timestamp="20200917 15:20:54.979" level="INFO">${form_data} = {'username': 'zhangpeng', 'password': 'zhangpeng'}</msg>
<status status="PASS" starttime="20200917 15:20:54.978" endtime="20200917 15:20:54.979"></status>
</kw>
<kw name="Create Session" library="RequestsLibrary">
<doc>Create Session: create a HTTP session to a server</doc>
<arguments>
<arg>token_session</arg>
<arg>${API_BACKEND}</arg>
</arguments>
<msg timestamp="20200917 15:20:54.979" level="INFO">Creating Session using : alias=token_session, url=http://172.16.66.6:8000, headers={},                     cookies={}, auth=None, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<status status="PASS" starttime="20200917 15:20:54.979" endtime="20200917 15:20:54.979"></status>
</kw>
<kw name="Post Request" library="RequestsLibrary">
<doc>Send a POST request on the session object found using the
given `alias`</doc>
<arguments>
<arg>token_session</arg>
<arg>${TOKEN_API}</arg>
<arg>data=${form_data}</arg>
<arg>headers=${headers}</arg>
</arguments>
<assign>
<var>${resp}</var>
</assign>
<msg timestamp="20200917 15:20:55.128" level="INFO">POST Request : url=http://172.16.66.6:8000/api/token 
 path_url=/api/token 
 headers={'User-Agent': 'python-requests/2.24.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Type': 'application/x-www-form-urlencoded', 'Content-Length': '37'} 
 body=username=zhangpeng&amp;password=zhangpeng 
 </msg>
<msg timestamp="20200917 15:20:55.128" level="INFO">POST Response : url=http://172.16.66.6:8000/api/token 
 status=200, reason=OK 
 body={"access_token":"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ6aGFuZ3BlbmciLCJleHAiOjE2MDAzMzA4NTV9.9ZTLsJ-IQSHnb6iRCRwaxbWjZjUVQMIIrdxCZLBOv8k","token_type":"bearer","admin":true} 
 </msg>
<msg timestamp="20200917 15:20:55.128" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20200917 15:20:54.979" endtime="20200917 15:20:55.129"></status>
</kw>
<kw name="Evaluate" library="BuiltIn">
<doc>Evaluates the given expression in Python and returns the result.</doc>
<arguments>
<arg>json.loads("""${resp.text}""")</arg>
<arg>json</arg>
</arguments>
<assign>
<var>&amp;{data}</var>
</assign>
<msg timestamp="20200917 15:20:55.131" level="INFO">&amp;{data} = { access_token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ6aGFuZ3BlbmciLCJleHAiOjE2MDAzMzA4NTV9.9ZTLsJ-IQSHnb6iRCRwaxbWjZjUVQMIIrdxCZLBOv8k | token_type=bearer | admin=True }</msg>
<status status="PASS" starttime="20200917 15:20:55.129" endtime="20200917 15:20:55.131"></status>
</kw>
<msg timestamp="20200917 15:20:55.132" level="INFO">${token} = Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ6aGFuZ3BlbmciLCJleHAiOjE2MDAzMzA4NTV9.9ZTLsJ-IQSHnb6iRCRwaxbWjZjUVQMIIrdxCZLBOv8k</msg>
<status status="PASS" starttime="20200917 15:20:54.977" endtime="20200917 15:20:55.132"></status>
</kw>
<kw name="Create Dictionary" library="BuiltIn">
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<arguments>
<arg>Authorization=${token}</arg>
</arguments>
<assign>
<var>${headers}</var>
</assign>
<msg timestamp="20200917 15:20:55.133" level="INFO">${headers} = {'Authorization': 'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ6aGFuZ3BlbmciLCJleHAiOjE2MDAzMzA4NTV9.9ZTLsJ-IQSHnb6iRCRwaxbWjZjUVQMIIrdxCZLBOv8k'}</msg>
<status status="PASS" starttime="20200917 15:20:55.132" endtime="20200917 15:20:55.133"></status>
</kw>
<kw name="Create Session" library="RequestsLibrary">
<doc>Create Session: create a HTTP session to a server</doc>
<arguments>
<arg>${session_name}</arg>
<arg>${API_BACKEND}</arg>
<arg>headers=${headers}</arg>
</arguments>
<msg timestamp="20200917 15:20:55.134" level="INFO">Creating Session using : alias=current_session, url=http://172.16.66.6:8000, headers={'Authorization': 'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ6aGFuZ3BlbmciLCJleHAiOjE2MDAzMzA4NTV9.9ZTLsJ-IQSHnb6iRCRwaxbWjZjUVQMIIrdxCZLBOv8k'},                     cookies={}, auth=None, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<status status="PASS" starttime="20200917 15:20:55.133" endtime="20200917 15:20:55.134"></status>
</kw>
<status status="PASS" starttime="20200917 15:20:54.977" endtime="20200917 15:20:55.135"></status>
</kw>
<test id="s1-s2-t1" name="Test GET /api/util/menu">
<kw name="Get Request" library="RequestsLibrary">
<doc>Send a GET request on the session object found using the
given `alias`</doc>
<arguments>
<arg>${USERS_SESSION}</arg>
<arg>/api/util/menu</arg>
</arguments>
<assign>
<var>${resp}</var>
</assign>
<msg timestamp="20200917 15:20:55.256" level="INFO">GET Request : url=http://172.16.66.6:8000/api/util/menu 
 path_url=/api/util/menu 
 headers={'User-Agent': 'python-requests/2.24.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Authorization': 'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ6aGFuZ3BlbmciLCJleHAiOjE2MDAzMzA4NTV9.9ZTLsJ-IQSHnb6iRCRwaxbWjZjUVQMIIrdxCZLBOv8k'} 
 body=None 
 </msg>
<msg timestamp="20200917 15:20:55.260" level="INFO">GET Response : url=http://172.16.66.6:8000/api/util/menu 
 status=200, reason=OK 
 body=[{"title":"账号","icon":"mdi-account","link":"/user"},{"title":"用户组","icon":"mdi-account-multiple","link":"/group"},{"title":"邮件列表","icon":"mdi-email","link":"/maillist"},{"title":"关于我","icon":"mdi-account-card-details","link":"/aboutme"}] 
 </msg>
<msg timestamp="20200917 15:20:55.261" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20200917 15:20:55.135" endtime="20200917 15:20:55.261"></status>
</kw>
<kw name="Evaluate" library="BuiltIn">
<doc>Evaluates the given expression in Python and returns the result.</doc>
<arguments>
<arg>json.loads("""${resp.text}""")</arg>
<arg>json</arg>
</arguments>
<assign>
<var>@{data}</var>
</assign>
<msg timestamp="20200917 15:20:55.266" level="INFO">@{data} = [ {'title': '账号', 'icon': 'mdi-account', 'link': '/user'} | {'title': '用户组', 'icon': 'mdi-account-multiple', 'link': '/group'} | {'title': '邮件列表', 'icon': 'mdi-email', 'link': '/maillist'} | {'title':...</msg>
<status status="PASS" starttime="20200917 15:20:55.262" endtime="20200917 15:20:55.266"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${data}</arg>
</arguments>
<msg timestamp="20200917 15:20:55.267" level="INFO">[{'title': '账号', 'icon': 'mdi-account', 'link': '/user'}, {'title': '用户组', 'icon': 'mdi-account-multiple', 'link': '/group'}, {'title': '邮件列表', 'icon': 'mdi-email', 'link': '/maillist'}, {'title': '关于我', 'icon': 'mdi-account-card-details', 'link': '/aboutme'}]</msg>
<status status="PASS" starttime="20200917 15:20:55.266" endtime="20200917 15:20:55.267"></status>
</kw>
<kw name="Length Should Be" library="BuiltIn">
<doc>Verifies that the length of the given item is correct.</doc>
<arguments>
<arg>${data}</arg>
<arg>4</arg>
</arguments>
<msg timestamp="20200917 15:20:55.267" level="INFO">Length is 4</msg>
<status status="PASS" starttime="20200917 15:20:55.267" endtime="20200917 15:20:55.267"></status>
</kw>
<status status="PASS" starttime="20200917 15:20:55.135" endtime="20200917 15:20:55.268" critical="yes"></status>
</test>
<test id="s1-s2-t2" name="Test GET /api/util/syncuser">
<kw name="Get Request" library="RequestsLibrary">
<doc>Send a GET request on the session object found using the
given `alias`</doc>
<arguments>
<arg>${USERS_SESSION}</arg>
<arg>/api/util/syncuser</arg>
</arguments>
<assign>
<var>${resp}</var>
</assign>
<msg timestamp="20200917 15:20:55.559" level="INFO">GET Request : url=http://172.16.66.6:8000/api/util/syncuser 
 path_url=/api/util/syncuser 
 headers={'User-Agent': 'python-requests/2.24.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Authorization': 'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ6aGFuZ3BlbmciLCJleHAiOjE2MDAzMzA4NTV9.9ZTLsJ-IQSHnb6iRCRwaxbWjZjUVQMIIrdxCZLBOv8k'} 
 body=None 
 </msg>
<msg timestamp="20200917 15:20:55.559" level="INFO">GET Response : url=http://172.16.66.6:8000/api/util/syncuser 
 status=200, reason=OK 
 body={"detail":"User synchronization succeeded"} 
 </msg>
<msg timestamp="20200917 15:20:55.560" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20200917 15:20:55.269" endtime="20200917 15:20:55.560"></status>
</kw>
<kw name="Status Should Be" library="RequestsLibrary">
<doc>Fails if response status code is different than the expected.</doc>
<arguments>
<arg>200</arg>
<arg>${resp}</arg>
</arguments>
<status status="PASS" starttime="20200917 15:20:55.560" endtime="20200917 15:20:55.561"></status>
</kw>
<status status="PASS" starttime="20200917 15:20:55.268" endtime="20200917 15:20:55.561" critical="yes"></status>
</test>
<test id="s1-s2-t3" name="Test GET /api/util/syncmaillist">
<kw name="Get Request" library="RequestsLibrary">
<doc>Send a GET request on the session object found using the
given `alias`</doc>
<arguments>
<arg>${USERS_SESSION}</arg>
<arg>/api/util/syncmaillist</arg>
</arguments>
<assign>
<var>${resp}</var>
</assign>
<msg timestamp="20200917 15:20:56.149" level="INFO">GET Request : url=http://172.16.66.6:8000/api/util/syncmaillist 
 path_url=/api/util/syncmaillist 
 headers={'User-Agent': 'python-requests/2.24.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Authorization': 'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ6aGFuZ3BlbmciLCJleHAiOjE2MDAzMzA4NTV9.9ZTLsJ-IQSHnb6iRCRwaxbWjZjUVQMIIrdxCZLBOv8k'} 
 body=None 
 </msg>
<msg timestamp="20200917 15:20:56.149" level="INFO">GET Response : url=http://172.16.66.6:8000/api/util/syncmaillist 
 status=200, reason=OK 
 body={"detail":"Mailist synchronization succeeded"} 
 </msg>
<msg timestamp="20200917 15:20:56.149" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20200917 15:20:55.564" endtime="20200917 15:20:56.149"></status>
</kw>
<kw name="Status Should Be" library="RequestsLibrary">
<doc>Fails if response status code is different than the expected.</doc>
<arguments>
<arg>200</arg>
<arg>${resp}</arg>
</arguments>
<status status="PASS" starttime="20200917 15:20:56.150" endtime="20200917 15:20:56.150"></status>
</kw>
<status status="PASS" starttime="20200917 15:20:55.563" endtime="20200917 15:20:56.151" critical="yes"></status>
</test>
<test id="s1-s2-t4" name="Test GET /api/util/{dn}">
<kw name="Get Request" library="RequestsLibrary">
<doc>Send a GET request on the session object found using the
given `alias`</doc>
<arguments>
<arg>${USERS_SESSION}</arg>
<arg>/api/users/me</arg>
</arguments>
<assign>
<var>${resp}</var>
</assign>
<msg timestamp="20200917 15:20:56.334" level="INFO">GET Request : url=http://172.16.66.6:8000/api/users/me 
 path_url=/api/users/me 
 headers={'User-Agent': 'python-requests/2.24.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Authorization': 'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ6aGFuZ3BlbmciLCJleHAiOjE2MDAzMzA4NTV9.9ZTLsJ-IQSHnb6iRCRwaxbWjZjUVQMIIrdxCZLBOv8k'} 
 body=None 
 </msg>
<msg timestamp="20200917 15:20:56.347" level="INFO">GET Response : url=http://172.16.66.6:8000/api/users/me 
 status=200, reason=OK 
 body={"objectClass":["inetOrgPerson","shadowAccount","amavisAccount","mailUser","posixAccount"],"amavisLocal":true,"enabledService":["mail","deliver","lda","lmtp","smtp","smtpsecured","pop3","pop3secured","pop3tls","imap","imapsecured","imaptls","managesieve","managesievesecured","sogo","sieve","sievesecured","forward","senderbcc","recipientbcc","internal","lib-storage","indexer-worker","doveadm","dsync","shadowaddress","displayedInGlobalAddressBook","domainadmin"],"homeDirectory":"/var/vmail/vmail1/cetcxl.com/zhangpeng/","mail":"zhangpeng@cetcxl.com","mailboxFormat":"maildir","mailMessageStore":"vmail1/cetcxl.com/zhangpeng/","storageBaseDirectory":"/var/vmail","uid":"zhangpeng","shadowAddress":"zhangp@cetcxl.com","domainGlobalAdmin":"yes","preferredLanguage":"zh_CN","accountStatus":"active","mailQuota":5368709120,"shadowMax":-1,"loginShell":"/bin/bash","shadowLastChange":18221,"uidNumber":6000,"gidNumber":60,"cn":"张鹏","sn":"张","givenName":"鹏","displayName":"张鹏","dn":"mail=zhangpeng@cetcxl.com,ou=Users,domainName=cetcxl.com,o=domains,dc=cetcxl,dc=com","memberof":[{"group":"admin","pgroup":"jenkins"},{"group":"user","pgroup":"jenkins"},{"group":"user","pgroup":"qa_jenkins"},{"group":"admin","pgroup":"qa_jenkins"},{"group":"jira-managers","pgroup":"jira"},{"group":"运维","pgroup":"xl"},{"group":"全员","pgroup":"xl"},{"group":"项目实施部","pgroup":"xl"}]} 
 </msg>
<msg timestamp="20200917 15:20:56.347" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20200917 15:20:56.154" endtime="20200917 15:20:56.347"></status>
</kw>
<kw name="Evaluate" library="BuiltIn">
<doc>Evaluates the given expression in Python and returns the result.</doc>
<arguments>
<arg>json.loads("""${resp.text}""")</arg>
<arg>json</arg>
</arguments>
<assign>
<var>&amp;{data}</var>
</assign>
<msg timestamp="20200917 15:20:56.361" level="INFO">&amp;{data} = { objectClass=['inetOrgPerson', 'shadowAccount', 'amavisAccount', 'mailUser', 'posixAccount'] | amavisLocal=True | enabledService=['mail', 'deliver', 'lda', 'lmtp', 'smtp', 'smtpsecured', 'pop3', 'pop...</msg>
<status status="PASS" starttime="20200917 15:20:56.347" endtime="20200917 15:20:56.361"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${data.dn}</arg>
</arguments>
<msg timestamp="20200917 15:20:56.362" level="INFO">mail=zhangpeng@cetcxl.com,ou=Users,domainName=cetcxl.com,o=domains,dc=cetcxl,dc=com</msg>
<status status="PASS" starttime="20200917 15:20:56.361" endtime="20200917 15:20:56.362"></status>
</kw>
<kw name="Get Request" library="RequestsLibrary">
<doc>Send a GET request on the session object found using the
given `alias`</doc>
<arguments>
<arg>${USERS_SESSION}</arg>
<arg>/api/util/${data.dn}</arg>
</arguments>
<assign>
<var>${resp}</var>
</assign>
<msg timestamp="20200917 15:20:56.532" level="INFO">GET Request : url=http://172.16.66.6:8000/api/util/mail=zhangpeng@cetcxl.com,ou=Users,domainName=cetcxl.com,o=domains,dc=cetcxl,dc=com 
 path_url=/api/util/mail=zhangpeng@cetcxl.com,ou=Users,domainName=cetcxl.com,o=domains,dc=cetcxl,dc=com 
 headers={'User-Agent': 'python-requests/2.24.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Authorization': 'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ6aGFuZ3BlbmciLCJleHAiOjE2MDAzMzA4NTV9.9ZTLsJ-IQSHnb6iRCRwaxbWjZjUVQMIIrdxCZLBOv8k'} 
 body=None 
 </msg>
<msg timestamp="20200917 15:20:56.544" level="INFO">GET Response : url=http://172.16.66.6:8000/api/util/mail=zhangpeng@cetcxl.com,ou=Users,domainName=cetcxl.com,o=domains,dc=cetcxl,dc=com 
 status=200, reason=OK 
 body={"objectClass":["inetOrgPerson","shadowAccount","amavisAccount","mailUser","posixAccount"],"amavisLocal":true,"enabledService":["mail","deliver","lda","lmtp","smtp","smtpsecured","pop3","pop3secured","pop3tls","imap","imapsecured","imaptls","managesieve","managesievesecured","sogo","sieve","sievesecured","forward","senderbcc","recipientbcc","internal","lib-storage","indexer-worker","doveadm","dsync","shadowaddress","displayedInGlobalAddressBook","domainadmin"],"homeDirectory":"/var/vmail/vmail1/cetcxl.com/zhangpeng/","mail":"zhangpeng@cetcxl.com","mailboxFormat":"maildir","mailMessageStore":"vmail1/cetcxl.com/zhangpeng/","storageBaseDirectory":"/var/vmail","uid":"zhangpeng","shadowAddress":"zhangp@cetcxl.com","domainGlobalAdmin":"yes","preferredLanguage":"zh_CN","accountStatus":"active","mailQuota":5368709120,"shadowMax":-1,"loginShell":"/bin/bash","shadowLastChange":18221,"uidNumber":6000,"gidNumber":60,"cn":"张鹏","sn":"张","givenName":"鹏","displayName":"张鹏","dn":"mail=zhangpeng@cetcxl.com,ou=Users,domainName=cetcxl.com,o=domains,dc=cetcxl,dc=com"} 
 </msg>
<msg timestamp="20200917 15:20:56.544" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20200917 15:20:56.362" endtime="20200917 15:20:56.544"></status>
</kw>
<kw name="Evaluate" library="BuiltIn">
<doc>Evaluates the given expression in Python and returns the result.</doc>
<arguments>
<arg>json.loads("""${resp.text}""")</arg>
<arg>json</arg>
</arguments>
<assign>
<var>&amp;{data}</var>
</assign>
<msg timestamp="20200917 15:20:56.550" level="INFO">&amp;{data} = { objectClass=['inetOrgPerson', 'shadowAccount', 'amavisAccount', 'mailUser', 'posixAccount'] | amavisLocal=True | enabledService=['mail', 'deliver', 'lda', 'lmtp', 'smtp', 'smtpsecured', 'pop3', 'pop...</msg>
<status status="PASS" starttime="20200917 15:20:56.545" endtime="20200917 15:20:56.551"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${data}</arg>
</arguments>
<msg timestamp="20200917 15:20:56.551" level="INFO">{'objectClass': ['inetOrgPerson', 'shadowAccount', 'amavisAccount', 'mailUser', 'posixAccount'], 'amavisLocal': True, 'enabledService': ['mail', 'deliver', 'lda', 'lmtp', 'smtp', 'smtpsecured', 'pop3', 'pop3secured', 'pop3tls', 'imap', 'imapsecured', 'imaptls', 'managesieve', 'managesievesecured', 'sogo', 'sieve', 'sievesecured', 'forward', 'senderbcc', 'recipientbcc', 'internal', 'lib-storage', 'indexer-worker', 'doveadm', 'dsync', 'shadowaddress', 'displayedInGlobalAddressBook', 'domainadmin'], 'homeDirectory': '/var/vmail/vmail1/cetcxl.com/zhangpeng/', 'mail': 'zhangpeng@cetcxl.com', 'mailboxFormat': 'maildir', 'mailMessageStore': 'vmail1/cetcxl.com/zhangpeng/', 'storageBaseDirectory': '/var/vmail', 'uid': 'zhangpeng', 'shadowAddress': 'zhangp@cetcxl.com', 'domainGlobalAdmin': 'yes', 'preferredLanguage': 'zh_CN', 'accountStatus': 'active', 'mailQuota': 5368709120, 'shadowMax': -1, 'loginShell': '/bin/bash', 'shadowLastChange': 18221, 'uidNumber': 6000, 'gidNumber': 60, 'cn': '张鹏', 'sn': '张', 'givenName': '鹏', 'displayName': '张鹏', 'dn': 'mail=zhangpeng@cetcxl.com,ou=Users,domainName=cetcxl.com,o=domains,dc=cetcxl,dc=com'}</msg>
<status status="PASS" starttime="20200917 15:20:56.551" endtime="20200917 15:20:56.551"></status>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<doc>Fails if the given objects are unequal.</doc>
<arguments>
<arg>${data.uid}</arg>
<arg>${USERNAME}</arg>
</arguments>
<status status="PASS" starttime="20200917 15:20:56.551" endtime="20200917 15:20:56.551"></status>
</kw>
<status status="PASS" starttime="20200917 15:20:56.153" endtime="20200917 15:20:56.552" critical="yes"></status>
</test>
<status status="PASS" starttime="20200917 15:20:54.972" endtime="20200917 15:20:56.552"></status>
</suite>
<status status="PASS" starttime="20200917 15:20:49.756" endtime="20200917 15:20:56.554"></status>
</suite>
<statistics>
<total>
<stat pass="21" fail="0">Critical Tests</stat>
<stat pass="21" fail="0">All Tests</stat>
</total>
<tag>
</tag>
<suite>
<stat pass="21" fail="0" id="s1" name="Ldapman">Ldapman</stat>
<stat pass="17" fail="0" id="s1-s1" name="Users">Ldapman.Users</stat>
<stat pass="4" fail="0" id="s1-s2" name="Util">Ldapman.Util</stat>
</suite>
</statistics>
<errors>
</errors>
</robot>
